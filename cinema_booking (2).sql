-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Máy chủ: localhost:3306
-- Thời gian đã tạo: Th12 04, 2025 lúc 07:20 PM
-- Phiên bản máy phục vụ: 8.0.30
-- Phiên bản PHP: 8.2.20

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Cơ sở dữ liệu: `cinema_booking`
--

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `bookings`
--

CREATE TABLE `bookings` (
  `id` bigint UNSIGNED NOT NULL,
  `user_id` bigint UNSIGNED DEFAULT NULL,
  `show_id` bigint UNSIGNED NOT NULL,
  `status` enum('PENDING','LOCKED','PAID','CANCELLED','EXPIRED') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'PENDING',
  `lock_expires_at` datetime DEFAULT NULL,
  `subtotal` decimal(10,2) NOT NULL DEFAULT '0.00',
  `discount` decimal(10,2) NOT NULL DEFAULT '0.00',
  `total` decimal(10,2) NOT NULL DEFAULT '0.00',
  `payment_provider` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `payment_ref` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `booking_combos`
--

CREATE TABLE `booking_combos` (
  `id` bigint UNSIGNED NOT NULL,
  `booking_id` bigint UNSIGNED NOT NULL,
  `combo_id` bigint UNSIGNED NOT NULL,
  `unit_price` decimal(10,2) NOT NULL,
  `qty` int NOT NULL DEFAULT '1',
  `total_price` decimal(10,2) NOT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `booking_seats`
--

CREATE TABLE `booking_seats` (
  `id` bigint UNSIGNED NOT NULL,
  `booking_id` bigint UNSIGNED NOT NULL,
  `seat_id` bigint UNSIGNED NOT NULL,
  `price` decimal(10,2) NOT NULL,
  `status` enum('LOCKED','SOLD') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'LOCKED',
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `cache`
--

CREATE TABLE `cache` (
  `key` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `value` mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `expiration` int NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `cache_locks`
--

CREATE TABLE `cache_locks` (
  `key` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `owner` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `expiration` int NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `chi_tiet_combo_mon`
--

CREATE TABLE `chi_tiet_combo_mon` (
  `id` int NOT NULL,
  `id_combo` int NOT NULL,
  `id_mon_an` int NOT NULL,
  `so_luong` int NOT NULL DEFAULT '1',
  `kich_co` varchar(50) DEFAULT NULL COMMENT 'Lớn, Nhỏ, 32oz, VIP...'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Đang đổ dữ liệu cho bảng `chi_tiet_combo_mon`
--

INSERT INTO `chi_tiet_combo_mon` (`id`, `id_combo`, `id_mon_an`, `so_luong`, `kich_co`) VALUES
(1, 1, 1, 1, 'Lớn'),
(2, 1, 2, 2, '32oz'),
(3, 1, 3, 1, 'Vừa');

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `chi_tiet_dat_ve`
--

CREATE TABLE `chi_tiet_dat_ve` (
  `id` int NOT NULL,
  `id_dat_ve` int DEFAULT NULL,
  `id_ghe` int DEFAULT NULL,
  `gia` decimal(10,2) DEFAULT NULL,
  `gia_ve` decimal(10,2) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Đang đổ dữ liệu cho bảng `chi_tiet_dat_ve`
--

INSERT INTO `chi_tiet_dat_ve` (`id`, `id_dat_ve`, `id_ghe`, `gia`, `gia_ve`) VALUES
(60, 245, 4093, 100000.00, NULL),
(61, 245, 4094, 100000.00, NULL),
(62, 245, 4096, 100000.00, NULL),
(63, 245, 4095, 100000.00, NULL),
(64, 248, 4085, 80000.00, NULL),
(65, 248, 4086, 80000.00, NULL),
(66, 254, 4087, 80000.00, NULL),
(67, 254, 4088, 80000.00, NULL),
(68, 254, 4089, 80000.00, NULL),
(69, 254, 4090, 80000.00, NULL),
(70, 261, 4104, 100000.00, NULL),
(71, 261, 4103, 100000.00, NULL),
(72, 261, 4106, 100000.00, NULL),
(73, 261, 4105, 100000.00, NULL),
(74, 264, 4122, 100000.00, NULL),
(75, 264, 4121, 100000.00, NULL),
(76, 264, 4124, 100000.00, NULL),
(77, 264, 4123, 100000.00, NULL),
(78, 268, 4138, 100000.00, NULL),
(79, 268, 4137, 100000.00, NULL),
(80, 268, 4140, 100000.00, NULL),
(81, 268, 4139, 100000.00, NULL),
(82, 274, 4119, 100000.00, NULL),
(83, 274, 4120, 100000.00, NULL),
(84, 274, 4118, 100000.00, NULL),
(85, 274, 4117, 100000.00, NULL),
(86, 276, 4098, 100000.00, NULL),
(87, 276, 4097, 100000.00, NULL),
(93, 304, 4081, 100000.00, NULL),
(94, 304, 4082, 100000.00, NULL),
(95, 307, 4132, 100000.00, NULL),
(96, 307, 4131, 100000.00, NULL),
(97, 307, 4133, 100000.00, NULL),
(98, 307, 4134, 100000.00, NULL),
(107, 314, 4019, 200000.00, NULL),
(108, 314, 4020, 200000.00, NULL),
(109, 315, 4166, 80000.00, NULL),
(110, 315, 4165, 80000.00, NULL),
(111, 316, 4115, 200000.00, NULL),
(112, 316, 4116, 200000.00, NULL),
(113, 317, 3903, 80000.00, NULL),
(114, 317, 3918, 80000.00, NULL),
(115, 318, 3903, 80000.00, NULL),
(116, 319, 3903, 80000.00, NULL),
(117, 319, 3918, 80000.00, NULL),
(118, 320, 3903, 80000.00, NULL),
(119, 320, 3918, 80000.00, NULL);

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `chi_tiet_dat_ve_combo`
--

CREATE TABLE `chi_tiet_dat_ve_combo` (
  `id` int NOT NULL,
  `id_dat_ve` int DEFAULT NULL,
  `id_combo` int DEFAULT NULL,
  `so_luong` int DEFAULT NULL,
  `gia_ap_dung` decimal(10,2) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Đang đổ dữ liệu cho bảng `chi_tiet_dat_ve_combo`
--

INSERT INTO `chi_tiet_dat_ve_combo` (`id`, `id_dat_ve`, `id_combo`, `so_luong`, `gia_ap_dung`) VALUES
(3, 245, 1, 1, 199000.00),
(4, 248, 1, 1, 199000.00),
(5, 254, 1, 1, 199000.00),
(6, 261, 1, 1, 199000.00),
(7, 268, 1, 1, 199000.00),
(8, 274, 1, 1, 199000.00);

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `combo`
--

CREATE TABLE `combo` (
  `id` int NOT NULL,
  `ten` varchar(100) DEFAULT NULL,
  `mo_ta` text,
  `gia` decimal(10,2) DEFAULT NULL,
  `gia_goc` decimal(10,2) DEFAULT NULL,
  `anh` varchar(500) DEFAULT NULL,
  `combo_noi_bat` tinyint(1) DEFAULT '0',
  `so_luong_toi_da` int DEFAULT NULL,
  `yeu_cau_it_nhat_ve` int DEFAULT NULL,
  `ngay_bat_dau` datetime DEFAULT NULL,
  `ngay_ket_thuc` datetime DEFAULT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `created_by` int DEFAULT NULL,
  `updated_by` int DEFAULT NULL,
  `trang_thai` tinyint(1) DEFAULT '1'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Đang đổ dữ liệu cho bảng `combo`
--

INSERT INTO `combo` (`id`, `ten`, `mo_ta`, `gia`, `gia_goc`, `anh`, `combo_noi_bat`, `so_luong_toi_da`, `yeu_cau_it_nhat_ve`, `ngay_bat_dau`, `ngay_ket_thuc`, `created_at`, `updated_at`, `created_by`, `updated_by`, `trang_thai`) VALUES
(1, 'Combo Cặp Đôi', '1 Bắp lớn + 2 Nước + 1 Snack', 199000.00, 250000.00, '/images/combo-couple.jpg', 1, 3, 2, '2025-10-01 00:00:00', '2025-12-31 23:59:00', '2025-10-30 08:37:01', '2025-12-02 00:46:06', NULL, 4, 1),
(2, 'Combo nước bắp', '2 nước tùy chọn + 1 bắp tùy chọn', 59000.00, 80000.00, NULL, 1, 100, 2, '2025-12-01 13:01:00', '2025-12-09 13:01:00', '2025-12-02 13:01:15', '2025-12-02 13:01:26', 4, 4, 1);

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `combos`
--

CREATE TABLE `combos` (
  `id` bigint UNSIGNED NOT NULL,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `items` json NOT NULL,
  `price` decimal(10,2) NOT NULL,
  `is_active` tinyint(1) NOT NULL DEFAULT '1',
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `dat_ve`
--

CREATE TABLE `dat_ve` (
  `id` int NOT NULL,
  `ticket_code` varchar(50) DEFAULT NULL COMMENT 'Mã vé duy nhất',
  `qr_code` text COMMENT 'Mã QR code dạng base64 hoặc path',
  `id_nguoi_dung` int DEFAULT NULL,
  `id_suat_chieu` int DEFAULT NULL,
  `id_khuyen_mai` int DEFAULT NULL,
  `tong_tien_goc` decimal(15,2) NOT NULL DEFAULT '0.00' COMMENT 'Tổng tiền trước giảm giá',
  `tien_giam_khuyen_mai` decimal(15,2) NOT NULL DEFAULT '0.00' COMMENT 'Tiền giảm từ mã khuyến mãi',
  `tien_giam_thanh_vien` decimal(15,2) NOT NULL DEFAULT '0.00' COMMENT 'Tiền giảm từ hạng thành viên',
  `diem_su_dung` int NOT NULL DEFAULT '0' COMMENT 'Điểm đã sử dụng',
  `tien_giam_diem` decimal(15,2) NOT NULL DEFAULT '0.00' COMMENT 'Tiền giảm từ điểm (100 điểm = 10.000đ)',
  `diem_tich_luy` int NOT NULL DEFAULT '0' COMMENT 'Điểm tích lũy được từ đơn',
  `tong_tien` decimal(15,2) NOT NULL DEFAULT '0.00' COMMENT 'Tổng tiền phải thanh toán',
  `trang_thai` tinyint(1) DEFAULT '0',
  `checked_in` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Đã quét vé chưa',
  `phuong_thuc_thanh_toan` tinyint DEFAULT NULL COMMENT '1=online,2=tai_quay',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `expires_at` timestamp NULL DEFAULT NULL COMMENT 'Thời gian hết hạn cho vé offline (5 phút)',
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Đang đổ dữ liệu cho bảng `dat_ve`
--

INSERT INTO `dat_ve` (`id`, `ticket_code`, `qr_code`, `id_nguoi_dung`, `id_suat_chieu`, `id_khuyen_mai`, `tong_tien_goc`, `tien_giam_khuyen_mai`, `tien_giam_thanh_vien`, `diem_su_dung`, `tien_giam_diem`, `diem_tich_luy`, `tong_tien`, `trang_thai`, `checked_in`, `phuong_thuc_thanh_toan`, `created_at`, `expires_at`, `updated_at`) VALUES
(232, NULL, NULL, NULL, 6014, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:31:53', NULL, '2025-11-28 19:08:41'),
(233, NULL, NULL, NULL, 6014, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:31:54', NULL, '2025-11-28 19:08:41'),
(234, NULL, NULL, NULL, 6014, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:31:55', NULL, '2025-11-28 19:08:41'),
(235, NULL, NULL, NULL, 6014, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:36:14', NULL, '2025-11-28 19:08:41'),
(236, NULL, NULL, NULL, 6014, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:36:16', NULL, '2025-11-28 19:08:41'),
(237, NULL, NULL, NULL, 6014, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:36:17', NULL, '2025-11-28 19:08:41'),
(238, NULL, NULL, NULL, 6014, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:36:25', NULL, '2025-11-28 19:08:41'),
(239, NULL, NULL, NULL, 6014, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:36:26', NULL, '2025-11-28 19:08:41'),
(240, NULL, NULL, NULL, 6014, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:36:27', NULL, '2025-11-28 19:08:41'),
(241, NULL, NULL, NULL, 6014, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:36:28', NULL, '2025-11-28 19:08:41'),
(242, NULL, NULL, NULL, 6014, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:36:28', NULL, '2025-11-28 19:08:41'),
(243, NULL, NULL, NULL, 6014, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:36:29', NULL, '2025-11-28 19:08:41'),
(244, NULL, NULL, NULL, 6014, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:36:29', NULL, '2025-11-28 19:08:41'),
(245, NULL, NULL, 6, 6014, 2, 0.00, 0.00, 0.00, 0, 0.00, 0, 499000.00, 1, 0, NULL, '2025-11-28 18:36:44', NULL, '2025-11-28 19:08:41'),
(246, NULL, NULL, NULL, 6036, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:37:53', NULL, '2025-11-28 19:08:41'),
(247, NULL, NULL, NULL, 6036, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:37:54', NULL, '2025-11-28 19:08:41'),
(248, NULL, NULL, 6, 6036, 2, 0.00, 0.00, 0.00, 0, 0.00, 0, 339000.00, 0, 0, NULL, '2025-11-28 18:38:06', NULL, '2025-11-28 19:08:41'),
(249, NULL, NULL, NULL, 6036, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:38:25', NULL, '2025-11-28 19:08:41'),
(250, NULL, NULL, NULL, 6036, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:38:26', NULL, '2025-11-28 19:08:41'),
(251, NULL, NULL, NULL, 6036, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:38:38', NULL, '2025-11-28 19:08:41'),
(252, NULL, NULL, NULL, 6036, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:38:38', NULL, '2025-11-28 19:08:41'),
(253, NULL, NULL, NULL, 6036, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:38:39', NULL, '2025-11-28 19:08:41'),
(254, NULL, NULL, 6, 6036, 2, 0.00, 0.00, 0.00, 0, 0.00, 0, 499000.00, 0, 0, NULL, '2025-11-28 18:38:40', NULL, '2025-11-28 19:08:41'),
(255, NULL, NULL, NULL, 6036, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:39:14', NULL, '2025-11-28 19:08:41'),
(256, NULL, NULL, NULL, 6036, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:39:15', NULL, '2025-11-28 19:08:41'),
(257, NULL, NULL, NULL, 6036, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:39:15', NULL, '2025-11-28 19:08:41'),
(258, NULL, NULL, NULL, 6036, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:39:16', NULL, '2025-11-28 19:08:41'),
(259, NULL, NULL, NULL, 6036, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:39:17', NULL, '2025-11-28 19:08:41'),
(260, NULL, NULL, NULL, 6036, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:39:18', NULL, '2025-11-28 19:08:41'),
(261, NULL, NULL, 6, 6036, 2, 0.00, 0.00, 0.00, 0, 0.00, 0, 499000.00, 0, 0, NULL, '2025-11-28 18:39:24', NULL, '2025-11-28 19:08:41'),
(262, NULL, NULL, NULL, 6017, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:39:55', NULL, '2025-11-28 19:08:41'),
(263, NULL, NULL, NULL, 6017, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:39:56', NULL, '2025-11-28 19:08:41'),
(264, NULL, NULL, 6, 6017, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 320000.00, 1, 0, NULL, '2025-11-28 18:39:59', NULL, '2025-11-28 19:08:41'),
(265, NULL, NULL, NULL, 6014, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:41:51', NULL, '2025-11-28 19:08:41'),
(266, NULL, NULL, NULL, 6014, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:41:52', NULL, '2025-11-28 19:08:41'),
(267, NULL, NULL, NULL, 6014, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:41:53', NULL, '2025-11-28 19:08:41'),
(268, NULL, NULL, 6, 6014, 2, 0.00, 0.00, 0.00, 0, 0.00, 0, 499000.00, 1, 0, NULL, '2025-11-28 18:42:04', NULL, '2025-11-28 19:08:41'),
(269, NULL, NULL, NULL, 6021, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:43:20', NULL, '2025-11-28 19:08:41'),
(270, NULL, NULL, NULL, 6021, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:43:25', NULL, '2025-11-28 19:08:41'),
(271, NULL, NULL, NULL, 6021, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:43:26', NULL, '2025-11-28 19:08:41'),
(272, NULL, NULL, NULL, 6021, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:43:29', NULL, '2025-11-28 19:08:41'),
(273, NULL, NULL, NULL, 6021, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 18:43:36', NULL, '2025-11-28 19:08:41'),
(274, NULL, NULL, 6, 6021, 2, 0.00, 0.00, 0.00, 0, 0.00, 0, 579000.00, 1, 0, NULL, '2025-11-28 18:43:48', NULL, '2025-11-28 19:08:41'),
(275, NULL, NULL, NULL, 6021, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 2, 0, NULL, '2025-11-28 19:26:58', NULL, NULL),
(276, NULL, NULL, 6, 6021, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 200000.00, 1, 0, 1, '2025-11-28 19:27:00', NULL, NULL),
(277, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-11-28 20:25:18', NULL, NULL),
(278, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-11-28 20:25:27', NULL, NULL),
(279, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-11-28 20:25:31', NULL, NULL),
(280, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-11-28 20:25:37', NULL, NULL),
(281, NULL, NULL, 6, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 80000.00, 1, 0, 1, '2025-11-28 20:25:42', NULL, NULL),
(282, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 1, 0, NULL, '2025-11-28 20:29:10', NULL, NULL),
(283, NULL, NULL, 6, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 80000.00, 1, 0, NULL, '2025-11-28 20:29:12', NULL, NULL),
(284, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 1, 0, NULL, '2025-11-28 20:31:16', NULL, NULL),
(285, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-11-28 20:32:10', NULL, NULL),
(286, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-11-28 20:38:02', NULL, NULL),
(287, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-11-28 20:42:25', NULL, NULL),
(288, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 1, 0, NULL, '2025-11-28 20:42:26', NULL, NULL),
(289, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 1, 0, NULL, '2025-11-28 20:42:30', NULL, NULL),
(290, NULL, NULL, 6, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 240000.00, 1, 1, 1, '2025-11-28 20:42:32', NULL, NULL),
(291, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-11-28 20:44:30', NULL, NULL),
(292, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-11-28 20:44:30', NULL, NULL),
(293, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-11-28 20:44:33', NULL, NULL),
(294, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-11-28 20:45:24', NULL, NULL),
(295, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-11-28 20:45:26', NULL, NULL),
(296, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-11-28 20:45:27', NULL, NULL),
(297, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-11-28 20:45:42', NULL, NULL),
(298, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-11-28 20:49:02', NULL, NULL),
(299, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-11-28 20:49:03', NULL, NULL),
(300, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-11-28 20:49:05', NULL, NULL),
(301, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-11-28 20:49:08', NULL, NULL),
(302, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-11-28 20:49:17', NULL, NULL),
(303, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-11-28 20:49:19', NULL, NULL),
(304, NULL, NULL, NULL, 6014, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 200000.00, 0, 0, NULL, '2025-11-28 21:03:30', NULL, NULL),
(305, NULL, NULL, NULL, 6037, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-11-28 21:19:17', NULL, NULL),
(306, NULL, NULL, NULL, 6037, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-11-28 21:19:18', NULL, NULL),
(307, NULL, NULL, 6, 6037, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 320000.00, 1, 1, 1, '2025-11-28 21:19:19', NULL, NULL),
(308, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-12-01 09:55:48', NULL, NULL),
(309, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-12-01 09:55:49', NULL, NULL),
(310, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-12-01 09:55:49', NULL, NULL),
(311, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-12-01 09:55:50', NULL, NULL),
(312, NULL, NULL, NULL, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-12-01 09:55:51', NULL, NULL),
(313, NULL, NULL, 6, 6012, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 400000.00, 1, 1, 1, '2025-12-01 09:55:56', NULL, NULL),
(314, NULL, NULL, 6, 6062, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 400000.00, 1, 0, NULL, '2025-12-01 19:27:23', NULL, NULL),
(315, NULL, NULL, 6, 6035, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 160000.00, 1, 0, NULL, '2025-12-02 07:00:51', NULL, NULL),
(316, NULL, NULL, 6, 6035, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-12-02 07:12:07', NULL, NULL),
(317, NULL, NULL, 25, 6056, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-12-02 07:39:27', NULL, NULL),
(318, NULL, NULL, 25, 6056, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-12-02 07:39:56', NULL, NULL),
(319, NULL, NULL, 6, 6056, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 0.00, 0, 0, NULL, '2025-12-02 07:40:00', NULL, NULL),
(320, NULL, NULL, 6, 6056, NULL, 0.00, 0.00, 0.00, 0, 0.00, 0, 160000.00, 1, 0, NULL, '2025-12-02 07:40:57', NULL, NULL);

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `diem_thanh_vien`
--

CREATE TABLE `diem_thanh_vien` (
  `id` int NOT NULL,
  `id_nguoi_dung` int DEFAULT NULL,
  `tong_diem` int DEFAULT '0',
  `ngay_het_han` date DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Đang đổ dữ liệu cho bảng `diem_thanh_vien`
--

INSERT INTO `diem_thanh_vien` (`id`, `id_nguoi_dung`, `tong_diem`, `ngay_het_han`) VALUES
(1, 20, 420, NULL),
(2, 24, 0, NULL),
(3, 21, 350, NULL),
(4, 6, 3517, NULL);

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `failed_jobs`
--

CREATE TABLE `failed_jobs` (
  `id` bigint UNSIGNED NOT NULL,
  `uuid` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `connection` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `queue` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `payload` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `exception` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `failed_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `ghe`
--

CREATE TABLE `ghe` (
  `id` int NOT NULL,
  `id_phong` int DEFAULT NULL,
  `so_ghe` varchar(10) DEFAULT NULL,
  `so_hang` int DEFAULT NULL,
  `id_loai` int DEFAULT NULL,
  `trang_thai` tinyint(1) DEFAULT '1'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Đang đổ dữ liệu cho bảng `ghe`
--

INSERT INTO `ghe` (`id`, `id_phong`, `so_ghe`, `so_hang`, `id_loai`, `trang_thai`) VALUES
(3741, 32, 'A1', 1, 1, 1),
(3742, 32, 'A2', 1, 1, 1),
(3743, 32, 'A3', 1, 1, 1),
(3744, 32, 'A4', 1, 1, 1),
(3745, 32, 'A5', 1, 1, 1),
(3746, 32, 'A6', 1, 1, 1),
(3747, 32, 'A7', 1, 1, 1),
(3748, 32, 'A8', 1, 1, 1),
(3749, 32, 'A9', 1, 1, 1),
(3750, 32, 'A10', 1, 1, 1),
(3751, 32, 'A11', 1, 1, 1),
(3752, 32, 'A12', 1, 1, 1),
(3753, 32, 'A13', 1, 1, 1),
(3754, 32, 'A14', 1, 1, 1),
(3755, 32, 'A15', 1, 1, 1),
(3756, 32, 'A16', 1, 1, 1),
(3757, 32, 'B1', 2, 1, 1),
(3758, 32, 'B2', 2, 1, 1),
(3759, 32, 'B3', 2, 1, 1),
(3760, 32, 'B4', 2, 1, 1),
(3761, 32, 'B5', 2, 1, 1),
(3762, 32, 'B6', 2, 1, 1),
(3763, 32, 'B7', 2, 1, 1),
(3764, 32, 'B8', 2, 1, 1),
(3765, 32, 'B9', 2, 1, 1),
(3766, 32, 'B10', 2, 1, 1),
(3767, 32, 'B11', 2, 1, 1),
(3768, 32, 'B12', 2, 1, 1),
(3769, 32, 'B13', 2, 1, 1),
(3770, 32, 'B14', 2, 1, 1),
(3771, 32, 'B15', 2, 1, 1),
(3772, 32, 'B16', 2, 1, 1),
(3773, 32, 'C1', 3, 1, 1),
(3774, 32, 'C2', 3, 1, 1),
(3775, 32, 'C3', 3, 1, 1),
(3776, 32, 'C4', 3, 1, 1),
(3777, 32, 'C5', 3, 1, 1),
(3778, 32, 'C6', 3, 1, 1),
(3779, 32, 'C7', 3, 1, 1),
(3780, 32, 'C8', 3, 1, 1),
(3781, 32, 'C9', 3, 1, 1),
(3782, 32, 'C10', 3, 1, 1),
(3783, 32, 'C11', 3, 1, 1),
(3784, 32, 'C12', 3, 1, 1),
(3785, 32, 'C13', 3, 1, 1),
(3786, 32, 'C14', 3, 1, 1),
(3787, 32, 'C15', 3, 1, 1),
(3788, 32, 'C16', 3, 1, 1),
(3789, 32, 'D1', 4, 9, 1),
(3790, 32, 'D2', 4, 9, 1),
(3791, 32, 'D3', 4, 9, 1),
(3792, 32, 'D4', 4, 9, 1),
(3793, 32, 'D5', 4, 9, 1),
(3794, 32, 'D6', 4, 9, 1),
(3795, 32, 'D7', 4, 9, 1),
(3796, 32, 'D8', 4, 9, 1),
(3797, 32, 'D9', 4, 9, 1),
(3798, 32, 'D10', 4, 9, 1),
(3799, 32, 'D11', 4, 9, 1),
(3800, 32, 'D12', 4, 9, 1),
(3801, 32, 'D13', 4, 9, 1),
(3802, 32, 'D14', 4, 9, 1),
(3803, 32, 'D15', 4, 9, 1),
(3804, 32, 'D16', 4, 9, 1),
(3805, 32, 'E1', 5, 9, 1),
(3806, 32, 'E2', 5, 9, 1),
(3807, 32, 'E3', 5, 9, 1),
(3808, 32, 'E4', 5, 9, 1),
(3809, 32, 'E5', 5, 9, 1),
(3810, 32, 'E6', 5, 9, 1),
(3811, 32, 'E7', 5, 9, 1),
(3812, 32, 'E8', 5, 9, 1),
(3813, 32, 'E9', 5, 9, 1),
(3814, 32, 'E10', 5, 9, 1),
(3815, 32, 'E11', 5, 9, 1),
(3816, 32, 'E12', 5, 9, 1),
(3817, 32, 'E13', 5, 9, 1),
(3818, 32, 'E14', 5, 9, 1),
(3819, 32, 'E15', 5, 9, 1),
(3820, 32, 'E16', 5, 9, 1),
(3821, 32, 'F1', 6, 9, 1),
(3822, 32, 'F2', 6, 9, 1),
(3823, 32, 'F3', 6, 9, 1),
(3824, 32, 'F4', 6, 9, 1),
(3825, 32, 'F5', 6, 9, 1),
(3826, 32, 'F6', 6, 9, 1),
(3827, 32, 'F7', 6, 9, 1),
(3828, 32, 'F8', 6, 9, 1),
(3829, 32, 'F9', 6, 9, 1),
(3830, 32, 'F10', 6, 9, 1),
(3831, 32, 'F11', 6, 9, 1),
(3832, 32, 'F12', 6, 9, 1),
(3833, 32, 'F13', 6, 9, 1),
(3834, 32, 'F14', 6, 9, 1),
(3835, 32, 'F15', 6, 9, 1),
(3836, 32, 'F16', 6, 9, 1),
(3837, 32, 'G1', 7, 3, 1),
(3838, 32, 'G2', 7, 3, 1),
(3839, 32, 'G3', 7, 3, 1),
(3840, 32, 'G4', 7, 3, 1),
(3841, 32, 'G5', 7, 3, 1),
(3842, 32, 'G6', 7, 3, 1),
(3843, 32, 'G7', 7, 3, 1),
(3844, 32, 'G8', 7, 3, 1),
(3845, 32, 'G9', 7, 3, 1),
(3846, 32, 'G10', 7, 3, 1),
(3847, 32, 'G11', 7, 3, 1),
(3848, 32, 'G12', 7, 3, 1),
(3849, 32, 'G13', 7, 3, 1),
(3850, 32, 'G14', 7, 3, 1),
(3851, 32, 'G15', 7, 3, 1),
(3852, 32, 'G16', 7, 3, 1),
(3853, 32, 'H1', 8, 3, 1),
(3854, 32, 'H2', 8, 3, 1),
(3855, 32, 'H3', 8, 3, 1),
(3856, 32, 'H4', 8, 3, 1),
(3857, 32, 'H5', 8, 3, 1),
(3858, 32, 'H6', 8, 3, 1),
(3859, 32, 'H7', 8, 3, 1),
(3860, 32, 'H8', 8, 3, 1),
(3861, 32, 'H9', 8, 3, 1),
(3862, 32, 'H10', 8, 3, 1),
(3863, 32, 'H11', 8, 3, 1),
(3864, 32, 'H12', 8, 3, 1),
(3865, 32, 'H13', 8, 3, 1),
(3866, 32, 'H14', 8, 3, 1),
(3867, 32, 'H15', 8, 3, 1),
(3868, 32, 'H16', 8, 3, 1),
(3869, 32, 'I1', 9, 3, 1),
(3870, 32, 'I2', 9, 3, 1),
(3871, 32, 'I3', 9, 3, 1),
(3872, 32, 'I4', 9, 3, 1),
(3873, 32, 'I5', 9, 3, 1),
(3874, 32, 'I6', 9, 3, 1),
(3875, 32, 'I7', 9, 3, 1),
(3876, 32, 'I8', 9, 3, 1),
(3877, 32, 'I9', 9, 3, 1),
(3878, 32, 'I10', 9, 3, 1),
(3879, 32, 'I11', 9, 3, 1),
(3880, 32, 'I12', 9, 3, 1),
(3881, 32, 'I13', 9, 3, 1),
(3882, 32, 'I14', 9, 3, 1),
(3883, 32, 'I15', 9, 3, 1),
(3884, 32, 'I16', 9, 3, 1),
(3885, 32, 'J1', 10, 8, 1),
(3886, 32, 'J2', 10, 8, 1),
(3887, 32, 'J3', 10, 8, 1),
(3888, 32, 'J4', 10, 8, 1),
(3889, 32, 'J5', 10, 8, 1),
(3890, 32, 'J6', 10, 8, 1),
(3891, 32, 'J7', 10, 8, 1),
(3892, 32, 'J8', 10, 8, 1),
(3893, 32, 'J9', 10, 8, 1),
(3894, 32, 'J10', 10, 8, 1),
(3895, 32, 'J11', 10, 8, 1),
(3896, 32, 'J12', 10, 8, 1),
(3897, 32, 'J13', 10, 8, 1),
(3898, 32, 'J14', 10, 8, 1),
(3899, 32, 'J15', 10, 8, 1),
(3900, 32, 'J16', 10, 8, 1),
(3901, 33, 'A1', 1, 1, 1),
(3902, 33, 'A2', 1, 1, 1),
(3903, 33, 'A3', 1, 1, 1),
(3904, 33, 'A4', 1, 1, 1),
(3905, 33, 'A5', 1, 1, 1),
(3906, 33, 'A6', 1, 1, 1),
(3907, 33, 'A7', 1, 1, 1),
(3908, 33, 'A8', 1, 1, 1),
(3909, 33, 'A9', 1, 1, 1),
(3910, 33, 'A10', 1, 1, 1),
(3911, 33, 'A11', 1, 1, 1),
(3912, 33, 'A12', 1, 1, 1),
(3913, 33, 'A13', 1, 1, 1),
(3914, 33, 'A14', 1, 1, 1),
(3915, 33, 'A15', 1, 1, 1),
(3916, 33, 'A16', 1, 1, 1),
(3917, 33, 'B1', 2, 1, 1),
(3918, 33, 'B2', 2, 1, 1),
(3919, 33, 'B3', 2, 1, 1),
(3920, 33, 'B4', 2, 1, 1),
(3921, 33, 'B5', 2, 1, 1),
(3922, 33, 'B6', 2, 1, 1),
(3923, 33, 'B7', 2, 1, 1),
(3924, 33, 'B8', 2, 1, 1),
(3925, 33, 'B9', 2, 1, 1),
(3926, 33, 'B10', 2, 1, 1),
(3927, 33, 'B11', 2, 1, 1),
(3928, 33, 'B12', 2, 1, 1),
(3929, 33, 'B13', 2, 1, 1),
(3930, 33, 'B14', 2, 1, 1),
(3931, 33, 'B15', 2, 1, 1),
(3932, 33, 'B16', 2, 1, 1),
(3933, 33, 'C1', 3, 2, 1),
(3934, 33, 'C2', 3, 2, 1),
(3935, 33, 'C3', 3, 2, 1),
(3936, 33, 'C4', 3, 2, 1),
(3937, 33, 'C5', 3, 2, 1),
(3938, 33, 'C6', 3, 2, 1),
(3939, 33, 'C7', 3, 2, 1),
(3940, 33, 'C8', 3, 2, 1),
(3941, 33, 'C9', 3, 2, 1),
(3942, 33, 'C10', 3, 2, 1),
(3943, 33, 'C11', 3, 2, 1),
(3944, 33, 'C12', 3, 2, 1),
(3945, 33, 'C13', 3, 2, 1),
(3946, 33, 'C14', 3, 2, 1),
(3947, 33, 'C15', 3, 2, 1),
(3948, 33, 'C16', 3, 2, 1),
(3949, 33, 'D1', 4, 2, 1),
(3950, 33, 'D2', 4, 2, 1),
(3951, 33, 'D3', 4, 2, 1),
(3952, 33, 'D4', 4, 2, 1),
(3953, 33, 'D5', 4, 2, 1),
(3954, 33, 'D6', 4, 2, 1),
(3955, 33, 'D7', 4, 2, 1),
(3956, 33, 'D8', 4, 2, 1),
(3957, 33, 'D9', 4, 2, 1),
(3958, 33, 'D10', 4, 2, 1),
(3959, 33, 'D11', 4, 2, 1),
(3960, 33, 'D12', 4, 2, 1),
(3961, 33, 'D13', 4, 2, 1),
(3962, 33, 'D14', 4, 2, 1),
(3963, 33, 'D15', 4, 2, 1),
(3964, 33, 'D16', 4, 2, 1),
(3965, 33, 'E1', 5, 2, 1),
(3966, 33, 'E2', 5, 2, 1),
(3967, 33, 'E3', 5, 2, 1),
(3968, 33, 'E4', 5, 2, 1),
(3969, 33, 'E5', 5, 2, 1),
(3970, 33, 'E6', 5, 2, 1),
(3971, 33, 'E7', 5, 2, 1),
(3972, 33, 'E8', 5, 2, 1),
(3973, 33, 'E9', 5, 2, 1),
(3974, 33, 'E10', 5, 2, 1),
(3975, 33, 'E11', 5, 2, 1),
(3976, 33, 'E12', 5, 2, 1),
(3977, 33, 'E13', 5, 2, 1),
(3978, 33, 'E14', 5, 2, 1),
(3979, 33, 'E15', 5, 2, 1),
(3980, 33, 'E16', 5, 2, 1),
(3981, 33, 'F1', 6, 3, 1),
(3982, 33, 'F2', 6, 3, 1),
(3983, 33, 'F3', 6, 3, 1),
(3984, 33, 'F4', 6, 3, 1),
(3985, 33, 'F5', 6, 3, 1),
(3986, 33, 'F6', 6, 3, 1),
(3987, 33, 'F7', 6, 3, 1),
(3988, 33, 'F8', 6, 3, 1),
(3989, 33, 'F9', 6, 3, 1),
(3990, 33, 'F10', 6, 3, 1),
(3991, 33, 'F11', 6, 3, 1),
(3992, 33, 'F12', 6, 3, 1),
(3993, 33, 'F13', 6, 3, 1),
(3994, 33, 'F14', 6, 3, 1),
(3995, 33, 'F15', 6, 3, 1),
(3996, 33, 'F16', 6, 3, 1),
(3997, 33, 'G1', 7, 3, 1),
(3998, 33, 'G2', 7, 3, 1),
(3999, 33, 'G3', 7, 3, 1),
(4000, 33, 'G4', 7, 3, 1),
(4001, 33, 'G5', 7, 3, 1),
(4002, 33, 'G6', 7, 3, 1),
(4003, 33, 'G7', 7, 3, 1),
(4004, 33, 'G8', 7, 3, 1),
(4005, 33, 'G9', 7, 3, 1),
(4006, 33, 'G10', 7, 3, 1),
(4007, 33, 'G11', 7, 3, 1),
(4008, 33, 'G12', 7, 3, 1),
(4009, 33, 'G13', 7, 3, 1),
(4010, 33, 'G14', 7, 3, 1),
(4011, 33, 'G15', 7, 3, 1),
(4012, 33, 'G16', 7, 3, 1),
(4013, 33, 'H1', 8, 3, 1),
(4014, 33, 'H2', 8, 3, 1),
(4015, 33, 'H3', 8, 3, 1),
(4016, 33, 'H4', 8, 3, 1),
(4017, 33, 'H5', 8, 3, 1),
(4018, 33, 'H6', 8, 3, 1),
(4019, 33, 'H7', 8, 3, 0),
(4020, 33, 'H8', 8, 3, 0),
(4021, 33, 'H9', 8, 3, 0),
(4022, 33, 'H10', 8, 3, 0),
(4023, 33, 'H11', 8, 3, 1),
(4024, 33, 'H12', 8, 3, 1),
(4025, 33, 'H13', 8, 3, 1),
(4026, 33, 'H14', 8, 3, 1),
(4027, 33, 'H15', 8, 3, 1),
(4028, 33, 'H16', 8, 3, 1),
(4029, 33, 'I1', 9, 1, 1),
(4030, 33, 'I2', 9, 1, 1),
(4031, 33, 'I3', 9, 1, 1),
(4032, 33, 'I4', 9, 1, 1),
(4033, 33, 'I5', 9, 1, 1),
(4034, 33, 'I6', 9, 1, 1),
(4035, 33, 'I7', 9, 1, 1),
(4036, 33, 'I8', 9, 1, 1),
(4037, 33, 'I9', 9, 1, 1),
(4038, 33, 'I10', 9, 1, 1),
(4039, 33, 'I11', 9, 1, 1),
(4040, 33, 'I12', 9, 1, 1),
(4041, 33, 'I13', 9, 1, 1),
(4042, 33, 'I14', 9, 1, 1),
(4043, 33, 'I15', 9, 1, 1),
(4044, 33, 'I16', 9, 1, 1),
(4045, 33, 'J1', 10, 1, 1),
(4046, 33, 'J2', 10, 1, 1),
(4047, 33, 'J3', 10, 1, 1),
(4048, 33, 'J4', 10, 1, 1),
(4049, 33, 'J5', 10, 1, 1),
(4050, 33, 'J6', 10, 1, 1),
(4051, 33, 'J7', 10, 1, 1),
(4052, 33, 'J8', 10, 1, 1),
(4053, 33, 'J9', 10, 1, 1),
(4054, 33, 'J10', 10, 1, 1),
(4055, 33, 'J11', 10, 1, 1),
(4056, 33, 'J12', 10, 1, 1),
(4057, 33, 'J13', 10, 1, 1),
(4058, 33, 'J14', 10, 1, 1),
(4059, 33, 'J15', 10, 1, 1),
(4060, 33, 'J16', 10, 1, 1),
(4061, 34, 'A1', 1, 1, 1),
(4062, 34, 'A2', 1, 1, 1),
(4063, 34, 'A3', 1, 1, 1),
(4064, 34, 'A4', 1, 1, 1),
(4065, 34, 'A5', 1, 1, 1),
(4066, 34, 'A6', 1, 1, 1),
(4067, 34, 'A7', 1, 1, 1),
(4068, 34, 'A8', 1, 1, 1),
(4069, 34, 'A9', 1, 1, 1),
(4070, 34, 'A10', 1, 1, 1),
(4071, 34, 'A11', 1, 1, 1),
(4072, 34, 'A12', 1, 1, 1),
(4073, 34, 'A13', 1, 1, 1),
(4074, 34, 'A14', 1, 1, 1),
(4075, 34, 'A15', 1, 1, 1),
(4076, 34, 'A16', 1, 1, 1),
(4077, 34, 'B1', 2, 1, 1),
(4078, 34, 'B2', 2, 1, 1),
(4079, 34, 'B3', 2, 1, 1),
(4080, 34, 'B4', 2, 1, 1),
(4081, 34, 'B5', 2, 1, 0),
(4082, 34, 'B6', 2, 1, 0),
(4083, 34, 'B7', 2, 1, 1),
(4084, 34, 'B8', 2, 1, 1),
(4085, 34, 'B9', 2, 1, 0),
(4086, 34, 'B10', 2, 1, 0),
(4087, 34, 'B11', 2, 1, 0),
(4088, 34, 'B12', 2, 1, 0),
(4089, 34, 'B13', 2, 1, 0),
(4090, 34, 'B14', 2, 1, 0),
(4091, 34, 'B15', 2, 1, 1),
(4092, 34, 'B16', 2, 1, 1),
(4093, 34, 'C1', 3, 3, 0),
(4094, 34, 'C2', 3, 3, 0),
(4095, 34, 'C3', 3, 3, 0),
(4096, 34, 'C4', 3, 3, 0),
(4097, 34, 'C5', 3, 3, 0),
(4098, 34, 'C6', 3, 3, 0),
(4099, 34, 'C7', 3, 3, 1),
(4100, 34, 'C8', 3, 3, 1),
(4101, 34, 'C9', 3, 3, 1),
(4102, 34, 'C10', 3, 3, 1),
(4103, 34, 'C11', 3, 3, 0),
(4104, 34, 'C12', 3, 3, 0),
(4105, 34, 'C13', 3, 3, 0),
(4106, 34, 'C14', 3, 3, 0),
(4107, 34, 'C15', 3, 3, 1),
(4108, 34, 'C16', 3, 3, 1),
(4109, 34, 'D1', 4, 3, 1),
(4110, 34, 'D2', 4, 3, 1),
(4111, 34, 'D3', 4, 3, 1),
(4112, 34, 'D4', 4, 3, 1),
(4113, 34, 'D5', 4, 3, 1),
(4114, 34, 'D6', 4, 3, 1),
(4115, 34, 'D7', 4, 3, 1),
(4116, 34, 'D8', 4, 3, 1),
(4117, 34, 'D9', 4, 3, 0),
(4118, 34, 'D10', 4, 3, 0),
(4119, 34, 'D11', 4, 3, 0),
(4120, 34, 'D12', 4, 3, 0),
(4121, 34, 'D13', 4, 3, 0),
(4122, 34, 'D14', 4, 3, 0),
(4123, 34, 'D15', 4, 3, 0),
(4124, 34, 'D16', 4, 3, 0),
(4125, 34, 'E1', 5, 3, 1),
(4126, 34, 'E2', 5, 3, 1),
(4127, 34, 'E3', 5, 3, 1),
(4128, 34, 'E4', 5, 3, 1),
(4129, 34, 'E5', 5, 3, 1),
(4130, 34, 'E6', 5, 3, 1),
(4131, 34, 'E7', 5, 3, 0),
(4132, 34, 'E8', 5, 3, 0),
(4133, 34, 'E9', 5, 3, 0),
(4134, 34, 'E10', 5, 3, 0),
(4135, 34, 'E11', 5, 3, 1),
(4136, 34, 'E12', 5, 3, 1),
(4137, 34, 'E13', 5, 3, 0),
(4138, 34, 'E14', 5, 3, 0),
(4139, 34, 'E15', 5, 3, 0),
(4140, 34, 'E16', 5, 3, 0),
(4141, 34, 'F1', 6, 10, 1),
(4142, 34, 'F2', 6, 10, 1),
(4143, 34, 'F3', 6, 10, 1),
(4144, 34, 'F4', 6, 10, 1),
(4145, 34, 'F5', 6, 10, 1),
(4146, 34, 'F6', 6, 10, 1),
(4147, 34, 'F7', 6, 10, 1),
(4148, 34, 'F8', 6, 10, 1),
(4149, 34, 'F9', 6, 10, 1),
(4150, 34, 'F10', 6, 10, 1),
(4151, 34, 'F11', 6, 10, 1),
(4152, 34, 'F12', 6, 10, 1),
(4153, 34, 'F13', 6, 10, 1),
(4154, 34, 'F14', 6, 10, 1),
(4155, 34, 'F15', 6, 10, 1),
(4156, 34, 'F16', 6, 10, 1),
(4157, 34, 'G1', 7, 10, 1),
(4158, 34, 'G2', 7, 10, 1),
(4159, 34, 'G3', 7, 10, 1),
(4160, 34, 'G4', 7, 10, 1),
(4161, 34, 'G5', 7, 10, 1),
(4162, 34, 'G6', 7, 10, 1),
(4163, 34, 'G7', 7, 10, 1),
(4164, 34, 'G8', 7, 10, 1),
(4165, 34, 'G9', 7, 10, 1),
(4166, 34, 'G10', 7, 10, 1),
(4167, 34, 'G11', 7, 10, 1),
(4168, 34, 'G12', 7, 10, 1),
(4169, 34, 'G13', 7, 10, 1),
(4170, 34, 'G14', 7, 10, 1),
(4171, 34, 'G15', 7, 10, 1),
(4172, 34, 'G16', 7, 10, 1),
(4173, 34, 'H1', 8, 9, 1),
(4174, 34, 'H2', 8, 9, 1),
(4175, 34, 'H3', 8, 9, 1),
(4176, 34, 'H4', 8, 9, 1),
(4177, 34, 'H5', 8, 9, 1),
(4178, 34, 'H6', 8, 9, 1),
(4179, 34, 'H7', 8, 9, 1),
(4180, 34, 'H8', 8, 9, 1),
(4181, 34, 'H9', 8, 9, 1),
(4182, 34, 'H10', 8, 9, 1),
(4183, 34, 'H11', 8, 9, 1),
(4184, 34, 'H12', 8, 9, 1),
(4185, 34, 'H13', 8, 9, 1),
(4186, 34, 'H14', 8, 9, 1),
(4187, 34, 'H15', 8, 9, 1),
(4188, 34, 'H16', 8, 9, 1),
(4189, 34, 'I1', 9, 9, 1),
(4190, 34, 'I2', 9, 9, 1),
(4191, 34, 'I3', 9, 9, 1),
(4192, 34, 'I4', 9, 9, 1),
(4193, 34, 'I5', 9, 9, 1),
(4194, 34, 'I6', 9, 9, 1),
(4195, 34, 'I7', 9, 9, 1),
(4196, 34, 'I8', 9, 9, 1),
(4197, 34, 'I9', 9, 9, 1),
(4198, 34, 'I10', 9, 9, 1),
(4199, 34, 'I11', 9, 9, 1),
(4200, 34, 'I12', 9, 9, 1),
(4201, 34, 'I13', 9, 9, 1),
(4202, 34, 'I14', 9, 9, 1),
(4203, 34, 'I15', 9, 9, 1),
(4204, 34, 'I16', 9, 9, 1),
(4205, 34, 'J1', 10, 1, 1),
(4206, 34, 'J2', 10, 1, 1),
(4207, 34, 'J3', 10, 1, 1),
(4208, 34, 'J4', 10, 1, 1),
(4209, 34, 'J5', 10, 1, 1),
(4210, 34, 'J6', 10, 1, 1),
(4211, 34, 'J7', 10, 1, 1),
(4212, 34, 'J8', 10, 1, 1),
(4213, 34, 'J9', 10, 1, 1),
(4214, 34, 'J10', 10, 1, 1),
(4215, 34, 'J11', 10, 1, 1),
(4216, 34, 'J12', 10, 1, 1),
(4217, 34, 'J13', 10, 1, 1),
(4218, 34, 'J14', 10, 1, 1),
(4219, 34, 'J15', 10, 1, 1),
(4220, 34, 'J16', 10, 1, 1),
(4727, 31, 'A1', 1, 1, 1),
(4728, 31, 'A2', 1, 1, 1),
(4729, 31, 'A3', 1, 1, 1),
(4730, 31, 'A4', 1, 1, 1),
(4731, 31, 'A5', 1, 1, 1),
(4732, 31, 'A6', 1, 1, 1),
(4733, 31, 'A7', 1, 1, 1),
(4734, 31, 'A8', 1, 1, 1),
(4735, 31, 'A9', 1, 1, 1),
(4736, 31, 'A10', 1, 1, 1),
(4737, 31, 'A11', 1, 1, 1),
(4738, 31, 'A12', 1, 1, 1),
(4739, 31, 'A13', 1, 1, 1),
(4740, 31, 'A14', 1, 1, 1),
(4741, 31, 'A15', 1, 1, 1),
(4742, 31, 'B1', 2, 1, 1),
(4743, 31, 'B2', 2, 1, 1),
(4744, 31, 'B3', 2, 1, 1),
(4745, 31, 'B4', 2, 1, 1),
(4746, 31, 'B5', 2, 1, 1),
(4747, 31, 'B6', 2, 1, 1),
(4748, 31, 'B7', 2, 1, 1),
(4749, 31, 'B8', 2, 1, 1),
(4750, 31, 'B9', 2, 1, 1),
(4751, 31, 'B10', 2, 1, 1),
(4752, 31, 'B11', 2, 1, 1),
(4753, 31, 'B12', 2, 1, 1),
(4754, 31, 'B13', 2, 1, 1),
(4755, 31, 'B14', 2, 1, 1),
(4756, 31, 'B15', 2, 1, 1),
(4757, 31, 'C1', 3, 1, 1),
(4758, 31, 'C2', 3, 1, 1),
(4759, 31, 'C3', 3, 1, 1),
(4760, 31, 'C4', 3, 1, 1),
(4761, 31, 'C5', 3, 1, 1),
(4762, 31, 'C6', 3, 1, 1),
(4763, 31, 'C7', 3, 1, 1),
(4764, 31, 'C8', 3, 1, 1),
(4765, 31, 'C9', 3, 1, 1),
(4766, 31, 'C10', 3, 1, 1),
(4767, 31, 'C11', 3, 1, 1),
(4768, 31, 'C12', 3, 1, 1),
(4769, 31, 'C13', 3, 1, 1),
(4770, 31, 'C14', 3, 1, 1),
(4771, 31, 'C15', 3, 1, 1),
(4772, 31, 'D1', 4, 1, 1),
(4773, 31, 'D2', 4, 1, 1),
(4774, 31, 'D3', 4, 1, 1),
(4775, 31, 'D4', 4, 1, 1),
(4776, 31, 'D5', 4, 1, 1),
(4777, 31, 'D6', 4, 1, 1),
(4778, 31, 'D7', 4, 1, 1),
(4779, 31, 'D8', 4, 1, 1),
(4780, 31, 'D9', 4, 1, 1),
(4781, 31, 'D10', 4, 1, 1),
(4782, 31, 'D11', 4, 1, 1),
(4783, 31, 'D12', 4, 1, 1),
(4784, 31, 'D13', 4, 1, 1),
(4785, 31, 'D14', 4, 1, 1),
(4786, 31, 'D15', 4, 1, 1),
(4787, 31, 'E1', 5, 1, 1),
(4788, 31, 'E2', 5, 1, 1),
(4789, 31, 'E3', 5, 1, 1),
(4790, 31, 'E4', 5, 1, 1),
(4791, 31, 'E5', 5, 1, 1),
(4792, 31, 'E6', 5, 1, 1),
(4793, 31, 'E7', 5, 1, 1),
(4794, 31, 'E8', 5, 1, 1),
(4795, 31, 'E9', 5, 1, 1),
(4796, 31, 'E10', 5, 1, 1),
(4797, 31, 'E11', 5, 1, 1),
(4798, 31, 'E12', 5, 1, 1),
(4799, 31, 'E13', 5, 1, 1),
(4800, 31, 'E14', 5, 1, 1),
(4801, 31, 'E15', 5, 1, 1),
(4802, 31, 'F1', 6, 1, 1),
(4803, 31, 'F2', 6, 1, 1),
(4804, 31, 'F3', 6, 1, 1),
(4805, 31, 'F4', 6, 1, 1),
(4806, 31, 'F5', 6, 1, 1),
(4807, 31, 'F6', 6, 1, 1),
(4808, 31, 'F7', 6, 1, 1),
(4809, 31, 'F8', 6, 1, 1),
(4810, 31, 'F9', 6, 1, 1),
(4811, 31, 'F10', 6, 1, 1),
(4812, 31, 'F11', 6, 1, 1),
(4813, 31, 'F12', 6, 1, 1),
(4814, 31, 'F13', 6, 1, 1),
(4815, 31, 'F14', 6, 1, 1),
(4816, 31, 'F15', 6, 1, 1),
(4817, 31, 'G1', 7, 1, 1),
(4818, 31, 'G2', 7, 1, 1),
(4819, 31, 'G3', 7, 1, 1),
(4820, 31, 'G4', 7, 1, 1),
(4821, 31, 'G5', 7, 1, 1),
(4822, 31, 'G6', 7, 1, 1),
(4823, 31, 'G7', 7, 1, 1),
(4824, 31, 'G8', 7, 1, 1),
(4825, 31, 'G9', 7, 1, 1),
(4826, 31, 'G10', 7, 1, 1),
(4827, 31, 'G11', 7, 1, 1),
(4828, 31, 'G12', 7, 1, 1),
(4829, 31, 'G13', 7, 1, 1),
(4830, 31, 'G14', 7, 1, 1),
(4831, 31, 'G15', 7, 1, 1),
(4832, 31, 'H1', 8, 1, 1),
(4833, 31, 'H2', 8, 1, 1),
(4834, 31, 'H3', 8, 1, 1),
(4835, 31, 'H4', 8, 1, 1),
(4836, 31, 'H5', 8, 1, 1),
(4837, 31, 'H6', 8, 1, 1),
(4838, 31, 'H7', 8, 1, 1),
(4839, 31, 'H8', 8, 1, 1),
(4840, 31, 'H9', 8, 1, 1),
(4841, 31, 'H10', 8, 1, 1),
(4842, 31, 'H11', 8, 1, 1),
(4843, 31, 'H12', 8, 1, 1),
(4844, 31, 'H13', 8, 1, 1),
(4845, 31, 'H14', 8, 1, 1),
(4846, 31, 'H15', 8, 1, 1),
(4847, 31, 'I1', 9, 1, 1),
(4848, 31, 'I2', 9, 1, 1),
(4849, 31, 'I3', 9, 1, 1),
(4850, 31, 'I4', 9, 1, 1),
(4851, 31, 'I5', 9, 1, 1),
(4852, 31, 'I6', 9, 1, 1),
(4853, 31, 'I7', 9, 1, 1),
(4854, 31, 'I8', 9, 1, 1),
(4855, 31, 'I9', 9, 1, 1),
(4856, 31, 'I10', 9, 1, 1),
(4857, 31, 'I11', 9, 1, 1),
(4858, 31, 'I12', 9, 1, 1),
(4859, 31, 'I13', 9, 1, 1),
(4860, 31, 'I14', 9, 1, 1),
(4861, 31, 'I15', 9, 1, 1),
(4862, 31, 'J1', 10, 1, 1),
(4863, 31, 'J2', 10, 1, 1),
(4864, 31, 'J3', 10, 1, 1),
(4865, 31, 'J4', 10, 1, 1),
(4866, 31, 'J5', 10, 1, 1),
(4867, 31, 'J6', 10, 1, 1),
(4868, 31, 'J7', 10, 1, 1),
(4869, 31, 'J8', 10, 1, 1),
(4870, 31, 'J9', 10, 1, 1),
(4871, 31, 'J10', 10, 1, 1),
(4872, 31, 'J11', 10, 1, 1),
(4873, 31, 'J12', 10, 1, 1),
(4874, 31, 'J13', 10, 1, 1),
(4875, 31, 'J14', 10, 1, 1),
(4876, 31, 'J15', 10, 1, 1);

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `hang_thanh_vien`
--

CREATE TABLE `hang_thanh_vien` (
  `id` int NOT NULL,
  `id_nguoi_dung` int DEFAULT NULL,
  `id_tier` bigint UNSIGNED DEFAULT NULL,
  `ten_hang` varchar(50) DEFAULT NULL COMMENT 'Lưu tên hạng (Đồng, Bạc...)',
  `uu_dai` text,
  `diem_toi_thieu` int DEFAULT NULL,
  `ngay_cap_nhat_hang` timestamp NULL DEFAULT NULL COMMENT 'Ngày cập nhật hạng gần nhất'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Đang đổ dữ liệu cho bảng `hang_thanh_vien`
--

INSERT INTO `hang_thanh_vien` (`id`, `id_nguoi_dung`, `id_tier`, `ten_hang`, `uu_dai`, `diem_toi_thieu`, `ngay_cap_nhat_hang`) VALUES
(1, 20, NULL, 'Đồng', NULL, NULL, NULL),
(2, 21, NULL, 'Đồng', NULL, NULL, NULL),
(3, 6, NULL, 'Kim cương', NULL, NULL, NULL);

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `jobs`
--

CREATE TABLE `jobs` (
  `id` bigint UNSIGNED NOT NULL,
  `queue` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `payload` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `attempts` tinyint UNSIGNED NOT NULL,
  `reserved_at` int UNSIGNED DEFAULT NULL,
  `available_at` int UNSIGNED NOT NULL,
  `created_at` int UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `job_batches`
--

CREATE TABLE `job_batches` (
  `id` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `total_jobs` int NOT NULL,
  `pending_jobs` int NOT NULL,
  `failed_jobs` int NOT NULL,
  `failed_job_ids` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `options` mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci,
  `cancelled_at` int DEFAULT NULL,
  `created_at` int NOT NULL,
  `finished_at` int DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `khuyen_mai`
--

CREATE TABLE `khuyen_mai` (
  `id` int NOT NULL,
  `ma_km` varchar(50) DEFAULT NULL,
  `mo_ta` text,
  `ngay_bat_dau` date DEFAULT NULL,
  `ngay_ket_thuc` date DEFAULT NULL,
  `gia_tri_giam` decimal(10,2) DEFAULT NULL,
  `loai_giam` enum('phantram','codinh') NOT NULL DEFAULT 'phantram',
  `dieu_kien` varchar(255) DEFAULT NULL,
  `trang_thai` tinyint(1) DEFAULT '1',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Đang đổ dữ liệu cho bảng `khuyen_mai`
--

INSERT INTO `khuyen_mai` (`id`, `ma_km`, `mo_ta`, `ngay_bat_dau`, `ngay_ket_thuc`, `gia_tri_giam`, `loai_giam`, `dieu_kien`, `trang_thai`, `created_at`, `updated_at`) VALUES
(1, 'KM02', 'Giảm 10% cho đơn hàng', '2025-10-01', '2025-10-31', 10.00, 'phantram', 'Áp dụng cho đơn hàng từ 500000', 1, '2025-10-30 00:36:10', '2025-11-17 22:16:43'),
(2, 'KM01', 'Giảm nhay 20000 vào bill', '2025-10-31', '2025-12-05', 20.00, 'codinh', NULL, 1, '2025-10-30 00:37:09', '2025-11-17 22:14:33');

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `lich_su_diem`
--

CREATE TABLE `lich_su_diem` (
  `id` int NOT NULL,
  `id_nguoi_dung` int DEFAULT NULL,
  `ly_do` varchar(255) DEFAULT NULL,
  `diem_thay_doi` int DEFAULT NULL,
  `ngay` date DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `loai_ghe`
--

CREATE TABLE `loai_ghe` (
  `id` int NOT NULL,
  `ten_loai` varchar(50) DEFAULT NULL,
  `he_so_gia` decimal(5,2) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Đang đổ dữ liệu cho bảng `loai_ghe`
--

INSERT INTO `loai_ghe` (`id`, `ten_loai`, `he_so_gia`) VALUES
(1, 'Ghế thường', 1.00),
(2, 'Ghế VIP', 1.50),
(3, 'Ghế đôi', 2.00),
(4, 'Ghế Thường', 1.00),
(5, 'Ghế VIP', 1.50),
(6, 'Ghế Đôi', 2.00),
(7, 'Ghế Premium', 1.80),
(8, 'Ghế Thường', 1.00),
(9, 'Ghế VIP', 1.50),
(10, 'Ghế Đôi', 2.00),
(11, 'Ghế Premium', 1.80),
(12, 'Thường', 1.00);

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `migrations`
--

CREATE TABLE `migrations` (
  `id` int UNSIGNED NOT NULL,
  `migration` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `batch` int NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Đang đổ dữ liệu cho bảng `migrations`
--

INSERT INTO `migrations` (`id`, `migration`, `batch`) VALUES
(1, '0001_01_01_000000_create_users_table', 1),
(2, '0001_01_01_000001_create_cache_table', 1),
(3, '0001_01_01_000002_create_jobs_table', 1),
(4, '2025_10_09_100000_add_loai_giam_to_khuyen_mai_table', 2),
(5, '2025_10_23_100000_add_id_phong_to_phim_table', 3),
(6, '2025_10_11_031039_create_phim_table', 4),
(7, '2025_10_21_120000_alter_phim_table_to_new_schema', 4),
(8, '2025_10_29_093507_add_start_time_to_suat_chieu_table', 5),
(9, '2025_10_15_144130_add_deleted_at_to_nguoi_dung_table', 6),
(10, '2025_10_29_173211_add_gia_ve_to_chi_tiet_dat_ve_table', 7),
(11, '2025_10_29_173325_add_status_to_phong_chieu_table', 8),
(12, '2025_10_30_000000_create_loai_ghe_table', 9),
(13, '2025_11_02_085044_add_revenue_fields_to_phim_table', 10),
(14, '2025_11_08_050821_add_is_member_to_nguoi_dung_table', 11),
(15, '2025_11_08_052209_create_tier_table', 12),
(16, '2025_11_08_052233_add_id_tier_to_hang_thanh_vien_table', 12),
(17, '2025_11_08_053331_add_member_discount_columns_to_dat_ve_table', 13),
(18, '2025_11_09_034027_add_hot_to_phim_table', 14),
(20, '2025_11_17_181352_create_tam_giu_ghe_table_fixed', 15),
(21, '2025_11_09_035000_add_hot_column_to_phim_table', 16),
(22, '2024_01_01_000001_add_timestamps_to_dat_ve_table', 17),
(23, '2025_01_15_000001_create_movies_table', 17),
(24, '2025_01_15_000002_create_rooms_table', 17),
(25, '2025_01_15_000003_create_seats_table', 17),
(26, '2025_01_15_000004_create_shows_table', 17),
(27, '2025_01_15_000005_create_combos_table', 17),
(28, '2025_01_15_000006_create_bookings_table', 17),
(29, '2025_01_15_000007_create_booking_seats_table', 17),
(30, '2025_01_15_000008_create_booking_combos_table', 17),
(31, '2025_01_15_000009_create_payments_table', 17),
(32, '2025_01_15_000010_create_seat_locks_table', 17),
(33, '2025_01_16_000001_create_tin_tuc_table', 17),
(34, '2025_11_18_000000_add_phuong_thuc_thanh_toan_to_dat_ve_table', 18),
(35, '2025_11_28_013114_add_ticket_code_to_dat_ve_table', 19),
(36, '2025_11_28_225309_add_checked_in_to_dat_ve_table', 20),
(37, '2025_11_29_000609_add_expires_at_to_dat_ve_table', 20);

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `mon_an`
--

CREATE TABLE `mon_an` (
  `id` int NOT NULL,
  `ten` varchar(255) NOT NULL,
  `loai` varchar(100) DEFAULT NULL COMMENT 'Bắp, Nước, Snack, Hotdog...',
  `anh` varchar(500) DEFAULT NULL,
  `trang_thai` tinyint(1) DEFAULT '1',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Đang đổ dữ liệu cho bảng `mon_an`
--

INSERT INTO `mon_an` (`id`, `ten`, `loai`, `anh`, `trang_thai`, `created_at`, `updated_at`) VALUES
(1, 'Bắp rang bơ', 'Bắp', '/images/bap-lon.jpg', 1, '2025-10-30 08:37:01', '2025-10-30 08:37:01'),
(2, 'Pepsi', 'Nước', '/images/pepsi.jpg', 1, '2025-10-30 08:37:01', '2025-10-30 08:37:01'),
(3, 'Khoai tây chiên', 'Snack', '/images/khoai.jpg', 1, '2025-10-30 08:37:01', '2025-10-30 08:37:01');

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `movies`
--

CREATE TABLE `movies` (
  `id` bigint UNSIGNED NOT NULL,
  `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `duration_minutes` int NOT NULL,
  `rating` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `synopsis` text COLLATE utf8mb4_unicode_ci,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `nguoi_dung`
--

CREATE TABLE `nguoi_dung` (
  `id` int NOT NULL,
  `ho_ten` varchar(100) NOT NULL,
  `email` varchar(100) NOT NULL,
  `mat_khau` varchar(255) NOT NULL,
  `ngay_sinh` date DEFAULT NULL,
  `gioi_tinh` tinyint(1) DEFAULT NULL,
  `sdt` varchar(20) DEFAULT NULL,
  `dia_chi` text,
  `hinh_anh` varchar(255) DEFAULT NULL,
  `id_vai_tro` int DEFAULT NULL,
  `la_thanh_vien` tinyint NOT NULL DEFAULT '0' COMMENT '0: Không phải thành viên, 1: Là thành viên',
  `ngay_dang_ky_thanh_vien` date DEFAULT NULL COMMENT 'Ngày đăng ký thành viên',
  `trang_thai` tinyint(1) DEFAULT '1',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `deleted_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Đang đổ dữ liệu cho bảng `nguoi_dung`
--

INSERT INTO `nguoi_dung` (`id`, `ho_ten`, `email`, `mat_khau`, `ngay_sinh`, `gioi_tinh`, `sdt`, `dia_chi`, `hinh_anh`, `id_vai_tro`, `la_thanh_vien`, `ngay_dang_ky_thanh_vien`, `trang_thai`, `created_at`, `deleted_at`) VALUES
(4, 'Admin', 'admin@example.com', '$2y$12$zm6vR96/WrTwZD4gesKW5O7TBUzyPsNY9kAfcNkqG6hn7bSX8jXiu', NULL, NULL, NULL, NULL, NULL, 1, 0, NULL, 1, '2025-11-08 05:51:46', NULL),
(5, 'Staff', 'staff@example.com', '$2y$12$J3NPwAqEqaP3yZN8C3mEEuDgDehX/uQJ9KRKPcpgDUclKf1k/Tgzi', NULL, NULL, NULL, NULL, NULL, 2, 0, NULL, 1, '2025-11-08 05:51:46', NULL),
(6, 'Nguyễn Quang A', 'user@example.com', '$2y$12$5Ju8ksObKZFBk/KMrWIWke8jAS2Ek0JuybHez0uxU5gJJ7EARgjiG', NULL, NULL, '09876543324', 'ádftyukiolikujhtrsb', NULL, 3, 0, NULL, 1, '2025-11-17 15:57:45', NULL),
(7, 'Admin User', 'admin@moviehub.com', '$2y$12$y/SXOuBw.J1H5u8sXvz.r.dRhKNbfCI.Sl78xGEpLUStc19YKPL5O', NULL, NULL, '0123456789', NULL, NULL, 1, 0, NULL, 1, '2025-11-17 18:24:57', '2025-12-02 08:02:54'),
(8, 'Customer 1', 'customer1@example.com', '$2y$12$82fX0Hf.4ir4/ZfhmXSiouLBh6kSqr7evsxIWj3T6.aoQTKM3I.BW', NULL, NULL, '0123456781', NULL, NULL, 4, 0, NULL, 1, '2025-11-17 18:24:57', NULL),
(9, 'Customer 2', 'customer2@example.com', '$2y$12$FCNsRpu9eIsy.DkJsOiw5uZ4YZNP575sPsEuauUzrcrcmUonR15dO', NULL, NULL, '0123456782', NULL, NULL, 4, 0, NULL, 1, '2025-11-17 18:24:57', NULL),
(10, 'Customer 3', 'customer3@example.com', '$2y$12$5nLs.m7QZ/ak4ug51Lu2Ner0qGh1VwIjOkwXogllenGE4D/1w2eYi', NULL, NULL, '0123456783', NULL, NULL, 4, 0, NULL, 1, '2025-11-17 18:24:57', '2025-11-17 14:02:10'),
(11, 'Customer 4', 'customer4@example.com', '$2y$12$i82a7YMVAT7t/txONugVwuYRdk6EdZYIHodtnhvyxTOLVO5c2dZ8m', NULL, NULL, '0123456784', NULL, NULL, 4, 0, NULL, 1, '2025-11-17 18:24:57', '2025-11-17 14:02:08'),
(12, 'Customer 5', 'customer5@example.com', '$2y$12$mYj/R2ieHIZ8upnvhomDmueLZ7I8ss0EuMzb4.U/uY9r2MQFBqbcS', NULL, NULL, '0123456785', NULL, NULL, 4, 0, NULL, 1, '2025-11-17 18:24:58', '2025-11-17 14:02:05'),
(20, 'Trần Văn Cường', 'cuong.tran@example.com', 'password_hash', NULL, NULL, '0901234567', NULL, NULL, 3, 0, NULL, 1, '2025-11-23 07:15:55', NULL),
(21, 'Lê Thị Mai', 'mai.le@example.com', 'password_hash', NULL, NULL, '0901234568', NULL, NULL, 3, 0, NULL, 1, '2025-11-23 07:15:55', NULL),
(22, 'Phạm Hoàng Nam', 'nam.pham@example.com', 'password_hash', NULL, NULL, '0901234569', NULL, NULL, 3, 0, NULL, 1, '2025-11-23 07:15:55', NULL),
(23, 'Vũ Thu Hà', 'ha.vu@example.com', 'password_hash', NULL, NULL, '0901234570', NULL, NULL, 3, 0, NULL, 1, '2025-11-23 07:15:55', NULL),
(24, 'Ngô Kiến Huy', 'huy.ngo@example.com', 'password_hash', NULL, NULL, '0901234571', NULL, NULL, 3, 0, NULL, 1, '2025-11-23 07:15:55', NULL),
(25, 'Nguyễn Quang A', 'user11@example.com', '$2y$12$J9g2eVJbxbw085JWz5jGs.bDR5G5FfDhS7hDkVms1Clsg4Umm20sS', NULL, NULL, '03684382934', 'abc', NULL, 3, 0, NULL, 1, '2025-12-02 07:38:39', NULL),
(26, 'Ngudsa', 'ngnam@example.com', '$2y$12$KkBRf6OMAVnSbDy2T8cSw.g38UA9WM/O5Kt2qK08hwsUQlTGPplpu', NULL, NULL, '0987654321', 'kjhgfdsdh', NULL, 3, 0, NULL, 1, '2025-12-04 18:13:20', NULL);

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `password_reset_tokens`
--

CREATE TABLE `password_reset_tokens` (
  `email` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `token` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `created_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `payments`
--

CREATE TABLE `payments` (
  `id` bigint UNSIGNED NOT NULL,
  `booking_id` bigint UNSIGNED NOT NULL,
  `amount` decimal(10,2) NOT NULL,
  `status` enum('INIT','SUCCESS','FAIL') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'INIT',
  `provider` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `transaction_id` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `paid_at` datetime DEFAULT NULL,
  `payload` json DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `phim`
--

CREATE TABLE `phim` (
  `id` int NOT NULL,
  `ten_phim` varchar(255) NOT NULL,
  `ten_goc` varchar(255) DEFAULT NULL,
  `poster` varchar(255) DEFAULT NULL,
  `trailer` varchar(255) DEFAULT NULL,
  `dao_dien` varchar(100) DEFAULT NULL,
  `dien_vien` text,
  `the_loai` varchar(255) DEFAULT NULL,
  `quoc_gia` varchar(100) DEFAULT NULL,
  `ngon_ngu` varchar(100) DEFAULT NULL,
  `do_tuoi` varchar(10) DEFAULT NULL,
  `do_dai` int DEFAULT NULL,
  `ngay_khoi_chieu` date DEFAULT NULL,
  `ngay_ket_thuc` date DEFAULT NULL,
  `mo_ta` text,
  `mo_ta_ngan` text COMMENT 'Mô tả ngắn gọn về phim',
  `diem_danh_gia` decimal(3,1) DEFAULT NULL,
  `so_luot_danh_gia` int DEFAULT '0',
  `trang_thai` enum('sap_chieu','dang_chieu','ngung_chieu') DEFAULT 'sap_chieu',
  `hot` tinyint(1) NOT NULL DEFAULT '0',
  `doanh_thu` decimal(15,2) DEFAULT NULL COMMENT 'Tổng doanh thu từ phim (VNĐ)',
  `loi_nhuan` decimal(15,2) DEFAULT NULL COMMENT 'Lợi nhuận ròng (VNĐ)',
  `id_phong` int DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `deleted_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Đang đổ dữ liệu cho bảng `phim`
--

INSERT INTO `phim` (`id`, `ten_phim`, `ten_goc`, `poster`, `trailer`, `dao_dien`, `dien_vien`, `the_loai`, `quoc_gia`, `ngon_ngu`, `do_tuoi`, `do_dai`, `ngay_khoi_chieu`, `ngay_ket_thuc`, `mo_ta`, `mo_ta_ngan`, `diem_danh_gia`, `so_luot_danh_gia`, `trang_thai`, `hot`, `doanh_thu`, `loi_nhuan`, `id_phong`, `created_at`, `updated_at`, `deleted_at`) VALUES
(34, 'Cuộc Chiến Vũ Trụ', NULL, 'https://image.tmdb.org/t/p/w342/8Gxv8gSFCU0XGDykEGv7zR1n2ua.jpg', 'https://www.youtube.com/watch?v=example4', 'Joss Whedon', 'Robert Downey Jr., Chris Evans, Mark Ruffalo, Chris Hemsworth', NULL, NULL, NULL, NULL, 142, NULL, NULL, 'Trận chiến vũ trụ hoành tráng giữa các thế lực thiện và ác. Những siêu anh hùng đoàn kết để bảo vệ Trái Đất khỏi mối đe dọa từ vũ trụ.', NULL, NULL, 0, 'sap_chieu', 0, 0.00, 0.00, NULL, '2025-10-29 16:20:36', '2025-11-02 02:02:35', NULL),
(35, 'Bí Mật Thời Gian', NULL, 'https://image.tmdb.org/t/p/w342/9gk7adHYeDvHkCSEqAvQNLV5Uge.jpg', 'https://www.youtube.com/watch?v=example5', 'Christopher Nolan', 'Leonardo DiCaprio, Marion Cotillard, Tom Hardy, Cillian Murphy', NULL, NULL, NULL, NULL, 118, NULL, NULL, 'Câu chuyện về du hành thời gian và những hậu quả không lường trước. Một nhà khoa học phát minh ra cỗ máy thời gian và khám phá những bí mật của vũ trụ.', NULL, NULL, 0, 'sap_chieu', 0, 0.00, 0.00, NULL, '2025-10-29 16:20:36', '2025-11-02 02:02:35', NULL),
(36, 'Hành Trình Tình Yêu', NULL, 'https://image.tmdb.org/t/p/w342/6XYLiMxHAaCsoyrVo38LBWMw2p8.jpg', 'https://www.youtube.com/watch?v=example6', 'Richard Linklater', 'Ethan Hawke, Julie Delpy, Andrea Eckert, Hanno Pöschl', NULL, NULL, NULL, NULL, 95, NULL, NULL, 'Câu chuyện tình yêu cảm động vượt qua mọi khó khăn của cuộc sống. Một cặp đôi trẻ gặp nhau trên chuyến tàu và trải qua 24 giờ đáng nhớ ở Vienna.', NULL, NULL, 0, 'sap_chieu', 0, 0.00, 0.00, NULL, '2025-10-29 16:20:36', '2025-11-02 02:02:35', NULL),
(37, 'Ma Trận Hành Động', NULL, 'https://image.tmdb.org/t/p/w342/f89q3lefM2kSVVBDowNwQxIC7D9.jpg', 'https://www.youtube.com/watch?v=example7', 'Lana Wachowski, Lilly Wachowski', 'Keanu Reeves, Laurence Fishburne, Carrie-Anne Moss, Hugo Weaving', NULL, NULL, NULL, NULL, 136, NULL, NULL, 'Cuộc chiến giữa con người và máy móc trong thế giới ảo. Neo phải học cách sử dụng sức mạnh của mình để cứu nhân loại.', NULL, NULL, 0, 'sap_chieu', 0, 0.00, 0.00, NULL, '2025-10-29 16:20:36', '2025-11-02 02:02:35', NULL),
(38, 'Cuộc Sống Tuyệt Vời', NULL, 'https://image.tmdb.org/t/p/w342/4u1vptE8aXuzEIAgH8Y8O7v6NLD.jpg', 'https://www.youtube.com/watch?v=example8', 'Frank Capra', 'James Stewart, Donna Reed, Lionel Barrymore, Thomas Mitchell', NULL, NULL, NULL, NULL, 130, NULL, NULL, 'Câu chuyện về một người đàn ông muốn tự tử nhưng được một thiên thần cứu giúp. Anh ta được cho thấy cuộc sống sẽ như thế nào nếu anh ta chưa từng tồn tại.', NULL, NULL, 0, 'sap_chieu', 0, 0.00, 0.00, NULL, '2025-10-29 16:20:36', '2025-11-02 02:02:35', NULL),
(39, 'Vua Sư Tử', NULL, 'https://image.tmdb.org/t/p/w342/sKCr78MXSLixwmZ8DyJLrpMsd15.jpg', 'https://www.youtube.com/watch?v=example9', 'Roger Allers, Rob Minkoff', 'Matthew Broderick, James Earl Jones, Jeremy Irons, Nathan Lane', NULL, NULL, NULL, NULL, 88, NULL, NULL, 'Câu chuyện về chú sư tử con Simba học cách trở thành vua. Một bộ phim hoạt hình kinh điển với âm nhạc tuyệt vời.', NULL, NULL, 0, 'sap_chieu', 0, 0.00, 0.00, NULL, '2025-10-29 16:20:36', '2025-11-02 02:02:35', NULL),
(40, 'Titanic', NULL, 'https://image.tmdb.org/t/p/w342/9xjZS2rlVxm8SFx8kPC3aIGCOYQ.jpg', 'https://www.youtube.com/watch?v=example10', 'James Cameron', 'Leonardo DiCaprio, Kate Winslet, Billy Zane, Kathy Bates', NULL, NULL, NULL, NULL, 194, NULL, NULL, 'Câu chuyện tình yêu cảm động giữa Jack và Rose trên con tàu Titanic huyền thoại. Một tác phẩm điện ảnh kinh điển với hiệu ứng đặc biệt tuyệt vời.', NULL, NULL, 0, 'sap_chieu', 0, 0.00, 0.00, NULL, '2025-10-29 16:20:36', '2025-11-02 02:02:35', NULL),
(41, 'Forrest Gump', NULL, 'https://image.tmdb.org/t/p/w342/arw2vcBveWOVZr6pxd9XTd1TdQa.jpg', 'https://www.youtube.com/watch?v=example11', 'Robert Zemeckis', 'Tom Hanks, Robin Wright, Gary Sinise, Sally Field', NULL, NULL, NULL, NULL, 142, NULL, NULL, 'Câu chuyện về cuộc đời của Forrest Gump, một người đàn ông có IQ thấp nhưng có trái tim vàng. Anh ta đã chứng kiến và tham gia vào nhiều sự kiện lịch sử quan trọng của nước Mỹ.', NULL, NULL, 0, 'sap_chieu', 0, 0.00, 0.00, NULL, '2025-10-29 16:20:36', '2025-11-02 02:02:35', NULL),
(42, 'Pulp Fiction', NULL, 'https://image.tmdb.org/t/p/w342/d5iIlFn5s0ImszYzBPb8JPIfbXD.jpg', 'https://www.youtube.com/watch?v=example12', 'Quentin Tarantino', 'John Travolta, Samuel L. Jackson, Uma Thurman, Bruce Willis', NULL, NULL, NULL, NULL, 154, NULL, NULL, 'Một bộ phim tội phạm với cốt truyện phi tuyến tính, kể về cuộc sống của những tên tội phạm ở Los Angeles. Một kiệt tác của điện ảnh thế giới.', NULL, NULL, 0, 'sap_chieu', 0, 0.00, 0.00, NULL, '2025-10-29 16:20:36', '2025-11-02 02:02:35', NULL),
(52, 'Titanic', NULL, 'https://image.tmdb.org/t/p/w342/9xjZS2rlVxm8SFx8kPC3aIGCOYQ.jpg', 'https://www.youtube.com/watch?v=example10', 'James Cameron', 'Leonardo DiCaprio, Kate Winslet, Billy Zane, Kathy Bates', NULL, NULL, NULL, NULL, 194, NULL, NULL, 'Câu chuyện tình yêu cảm động giữa Jack và Rose trên con tàu Titanic huyền thoại. Một tác phẩm điện ảnh kinh điển với hiệu ứng đặc biệt tuyệt vời.', NULL, NULL, 0, 'sap_chieu', 0, 0.00, 0.00, NULL, '2025-10-29 16:21:38', '2025-11-02 02:02:35', NULL),
(53, 'Forrest Gump', NULL, 'https://image.tmdb.org/t/p/w342/arw2vcBveWOVZr6pxd9XTd1TdQa.jpg', 'https://www.youtube.com/watch?v=example11', 'Robert Zemeckis', 'Tom Hanks, Robin Wright, Gary Sinise, Sally Field', NULL, NULL, NULL, NULL, 142, NULL, NULL, 'Câu chuyện về cuộc đời của Forrest Gump, một người đàn ông có IQ thấp nhưng có trái tim vàng. Anh ta đã chứng kiến và tham gia vào nhiều sự kiện lịch sử quan trọng của nước Mỹ.', NULL, NULL, 0, 'sap_chieu', 0, 0.00, 0.00, NULL, '2025-10-29 16:21:38', '2025-11-02 02:02:35', NULL),
(54, 'Pulp Fiction', NULL, 'https://image.tmdb.org/t/p/w342/d5iIlFn5s0ImszYzBPb8JPIfbXD.jpg', 'https://www.youtube.com/watch?v=example12', 'Quentin Tarantino', 'John Travolta, Samuel L. Jackson, Uma Thurman, Bruce Willis', NULL, NULL, NULL, NULL, 154, NULL, NULL, 'Một bộ phim tội phạm với cốt truyện phi tuyến tính, kể về cuộc sống của những tên tội phạm ở Los Angeles. Một kiệt tác của điện ảnh thế giới.', NULL, NULL, 0, 'sap_chieu', 0, 0.00, 0.00, NULL, '2025-10-29 16:21:38', '2025-11-02 02:02:35', NULL),
(55, 'Hành Tinh Bí Ẩn', NULL, 'https://image.tmdb.org/t/p/w342/2CAL2433ZeIihfX1Hb2139CX0pW.jpg', 'https://www.youtube.com/watch?v=example1', 'Christopher Nolan', 'Matthew McConaughey, Anne Hathaway, Jessica Chastain, Michael Caine', NULL, NULL, NULL, NULL, 128, NULL, NULL, 'Cuộc phiêu lưu vũ trụ đầy kịch tính với những hiệu ứng hình ảnh tuyệt đẹp và cốt truyện hấp dẫn. Một nhóm phi hành gia dũng cảm khám phá những bí mật của vũ trụ và tìm kiếm hành tinh mới cho nhân loại.', NULL, NULL, 0, 'dang_chieu', 0, 0.00, 0.00, NULL, '2025-10-29 16:22:50', '2025-11-17 12:47:01', NULL),
(56, 'Săn Lùng Siêu Trộm', NULL, 'https://image.tmdb.org/t/p/w342/62HCnUTziyWcpDaBO2i1DX17ljH.jpg', 'https://www.youtube.com/watch?v=example2', 'Michael Mann', 'Tom Cruise, Jamie Foxx, Jada Pinkett Smith, Mark Ruffalo', NULL, NULL, NULL, NULL, 115, NULL, NULL, 'Cuộc truy đuổi gay cấn giữa cảnh sát và tên trộm thông minh nhất thế giới. Một tài xế taxi bình thường bị cuốn vào cuộc phiêu lưu đầy nguy hiểm.', NULL, NULL, 0, 'dang_chieu', 0, 0.00, 0.00, NULL, '2025-10-29 16:22:50', '2025-11-17 09:37:32', NULL),
(57, 'Vùng Đất Linh Hồn', NULL, 'https://image.tmdb.org/t/p/w342/e1mjopzAS2KNsvpbpahQ1a6SkSn.jpg', 'https://www.youtube.com/watch?v=example3', 'Guillermo del Toro', 'Sally Hawkins, Michael Shannon, Richard Jenkins, Octavia Spencer', NULL, NULL, NULL, NULL, 102, NULL, NULL, 'Hành trình khám phá thế giới tâm linh đầy bí ẩn và kỳ diệu. Một câu chuyện về tình yêu vượt qua ranh giới giữa hai thế giới.', NULL, NULL, 0, 'dang_chieu', 0, 0.00, 0.00, NULL, '2025-10-29 16:22:50', '2025-11-17 12:47:05', NULL);

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `phong_chieu`
--

CREATE TABLE `phong_chieu` (
  `id` int NOT NULL,
  `ten_phong` varchar(100) DEFAULT NULL,
  `so_hang` int DEFAULT NULL,
  `so_cot` int DEFAULT NULL,
  `suc_chua` int DEFAULT NULL,
  `mo_ta` text,
  `trang_thai` tinyint(1) DEFAULT '1',
  `status` varchar(255) NOT NULL DEFAULT 'active'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Đang đổ dữ liệu cho bảng `phong_chieu`
--

INSERT INTO `phong_chieu` (`id`, `ten_phong`, `so_hang`, `so_cot`, `suc_chua`, `mo_ta`, `trang_thai`, `status`) VALUES
(31, 'Phòng1', 10, 15, NULL, NULL, 1, 'active'),
(32, 'Phòng2', 10, 16, NULL, NULL, 1, 'active'),
(33, 'Phòng3', 10, 16, NULL, NULL, 1, 'active'),
(34, 'Phòng111', 10, 16, NULL, NULL, 1, 'active');

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `rooms`
--

CREATE TABLE `rooms` (
  `id` bigint UNSIGNED NOT NULL,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `capacity` int NOT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `seats`
--

CREATE TABLE `seats` (
  `id` bigint UNSIGNED NOT NULL,
  `room_id` bigint UNSIGNED NOT NULL,
  `row` varchar(5) COLLATE utf8mb4_unicode_ci NOT NULL,
  `number` int NOT NULL,
  `type` enum('STANDARD','VIP','COUPLE') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'STANDARD',
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `seat_locks`
--

CREATE TABLE `seat_locks` (
  `id` bigint UNSIGNED NOT NULL,
  `show_id` bigint UNSIGNED NOT NULL,
  `seat_id` bigint UNSIGNED NOT NULL,
  `booking_id` bigint UNSIGNED DEFAULT NULL,
  `expires_at` datetime NOT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `sessions`
--

CREATE TABLE `sessions` (
  `id` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `user_id` bigint UNSIGNED DEFAULT NULL,
  `ip_address` varchar(45) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
  `user_agent` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci,
  `payload` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `last_activity` int NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Đang đổ dữ liệu cho bảng `sessions`
--

INSERT INTO `sessions` (`id`, `user_id`, `ip_address`, `user_agent`, `payload`, `last_activity`) VALUES
('bxxntBW9v7ZHAL8NzCJPt8i3CHa1QG013xryHU1Q', 6, '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'YTo1OntzOjY6Il90b2tlbiI7czo0MDoiRlRuUE9BdWNBQ3l2QkVjV3VuWWZTOE5VUGNUaWJ0SkdjZDNGMDhqQyI7czo5OiJfcHJldmlvdXMiO2E6MTp7czozOiJ1cmwiO3M6NDY6Imh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9zaG93cy82MDM1L3NlYXRzL3JlZnJlc2giO31zOjY6Il9mbGFzaCI7YToyOntzOjM6Im9sZCI7YTowOnt9czozOiJuZXciO2E6MDp7fX1zOjUwOiJsb2dpbl93ZWJfNTliYTM2YWRkYzJiMmY5NDAxNTgwZjAxNGM3ZjU4ZWE0ZTMwOTg5ZCI7aTo2O3M6NzoiYm9va2luZyI7YTo2OntzOjc6ImhvbGRfaWQiO3M6MTg6ImhvbGRfNjkzMWNjOTczYzUwYSI7czoxMToic2hvd3RpbWVfaWQiO2k6NjAzNTtzOjg6InNlYXRfaWRzIjthOjI6e2k6MDtpOjQxMDQ7aToxO2k6NDEwMzt9czoxNToiaG9sZF9leHBpcmVzX2F0IjtpOjE3NjQ4NzQ2MDY7czoxOToic2VsZWN0ZWRfc2VhdF9jb2RlcyI7YToyOntpOjA7czozOiJDMTIiO2k6MTtzOjM6IkMxMSI7fXM6MTU6InNlbGVjdGVkX2NvbWJvcyI7YTowOnt9fX0=', 1764876018),
('oxxEQ4DtykYVMXQBG6KOnYE93jZBhwvGVFGZz10p', 26, '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'YTo1OntzOjY6Il90b2tlbiI7czo0MDoiOUtSRlc4WU5PcU1PUE1meW84ZGxUckRBaFRIMThyeFlOM1FiblZhTCI7czo2OiJfZmxhc2giO2E6Mjp7czozOiJvbGQiO2E6MDp7fXM6MzoibmV3IjthOjA6e319czo5OiJfcHJldmlvdXMiO2E6MTp7czozOiJ1cmwiO3M6NDY6Imh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9zaG93cy82MDM1L3NlYXRzL3JlZnJlc2giO31zOjUwOiJsb2dpbl93ZWJfNTliYTM2YWRkYzJiMmY5NDAxNTgwZjAxNGM3ZjU4ZWE0ZTMwOTg5ZCI7aToyNjtzOjc6ImJvb2tpbmciO2E6NDp7czo3OiJob2xkX2lkIjtzOjE4OiJob2xkXzY5MzFjZjRjYmJkMzQiO3M6MTE6InNob3d0aW1lX2lkIjtzOjQ6IjYwMzUiO3M6ODoic2VhdF9pZHMiO2E6Mjp7aTowO2k6NDEwMztpOjE7aTo0MTA0O31zOjE1OiJob2xkX2V4cGlyZXNfYXQiO2k6MTc2NDg3NDYxMTt9fQ==', 1764875965);

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `shows`
--

CREATE TABLE `shows` (
  `id` bigint UNSIGNED NOT NULL,
  `movie_id` bigint UNSIGNED NOT NULL,
  `room_id` bigint UNSIGNED NOT NULL,
  `start_at` datetime NOT NULL,
  `end_at` datetime NOT NULL,
  `base_price` decimal(10,2) NOT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `suat_chieu`
--

CREATE TABLE `suat_chieu` (
  `id` int NOT NULL,
  `id_phim` int DEFAULT NULL,
  `id_phong` int DEFAULT NULL,
  `thoi_gian_bat_dau` datetime DEFAULT NULL,
  `thoi_gian_ket_thuc` datetime DEFAULT NULL,
  `trang_thai` tinyint(1) DEFAULT '1'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Đang đổ dữ liệu cho bảng `suat_chieu`
--

INSERT INTO `suat_chieu` (`id`, `id_phim`, `id_phong`, `thoi_gian_bat_dau`, `thoi_gian_ket_thuc`, `trang_thai`) VALUES
(6012, 55, 31, '2025-11-29 01:59:00', '2025-12-06 21:29:00', 1),
(6014, 56, 34, '2025-12-01 02:00:00', '2025-12-01 03:55:00', 1),
(6015, 56, 34, '2025-12-01 04:25:00', '2025-12-01 06:20:00', 1),
(6016, 56, 34, '2025-12-01 06:50:00', '2025-12-01 08:45:00', 1),
(6017, 56, 34, '2025-12-01 09:15:00', '2025-12-01 11:10:00', 1),
(6018, 56, 34, '2025-12-01 11:40:00', '2025-12-01 13:35:00', 1),
(6019, 56, 34, '2025-12-02 02:00:00', '2025-12-02 03:55:00', 1),
(6020, 56, 34, '2025-12-02 04:25:00', '2025-12-02 06:20:00', 1),
(6021, 56, 34, '2025-12-02 06:50:00', '2025-12-02 08:45:00', 1),
(6022, 56, 34, '2025-12-02 09:15:00', '2025-12-02 11:10:00', 1),
(6023, 56, 34, '2025-12-02 11:40:00', '2025-12-02 13:35:00', 1),
(6024, 56, 34, '2025-12-03 02:00:00', '2025-12-03 03:55:00', 1),
(6025, 56, 34, '2025-12-03 04:25:00', '2025-12-03 06:20:00', 1),
(6026, 56, 34, '2025-12-03 06:50:00', '2025-12-03 08:45:00', 1),
(6027, 56, 34, '2025-12-03 09:15:00', '2025-12-03 11:10:00', 1),
(6028, 56, 34, '2025-12-03 11:40:00', '2025-12-03 13:35:00', 1),
(6029, 56, 34, '2025-12-04 02:00:00', '2025-12-04 03:55:00', 1),
(6030, 56, 34, '2025-12-04 04:25:00', '2025-12-04 06:20:00', 1),
(6031, 56, 34, '2025-12-04 06:50:00', '2025-12-04 08:45:00', 1),
(6032, 56, 34, '2025-12-04 09:15:00', '2025-12-04 11:10:00', 1),
(6033, 56, 34, '2025-12-04 11:40:00', '2025-12-04 13:35:00', 1),
(6034, 56, 34, '2025-12-05 02:00:00', '2025-12-05 03:55:00', 1),
(6035, 56, 34, '2025-12-05 04:25:00', '2025-12-05 06:20:00', 1),
(6036, 56, 34, '2025-12-05 06:50:00', '2025-12-05 08:45:00', 1),
(6037, 56, 34, '2025-12-05 09:15:00', '2025-12-05 11:10:00', 1),
(6038, 56, 34, '2025-12-05 11:40:00', '2025-12-05 13:35:00', 1),
(6039, 57, 33, '2025-12-02 02:00:00', '2025-12-02 03:42:00', 1),
(6040, 57, 33, '2025-12-02 04:12:00', '2025-12-02 05:54:00', 1),
(6041, 57, 33, '2025-12-02 06:24:00', '2025-12-02 08:06:00', 1),
(6042, 57, 33, '2025-12-02 08:36:00', '2025-12-02 10:18:00', 1),
(6043, 57, 33, '2025-12-02 10:48:00', '2025-12-02 12:30:00', 1),
(6044, 57, 33, '2025-12-02 13:00:00', '2025-12-02 14:42:00', 1),
(6045, 57, 33, '2025-12-03 02:00:00', '2025-12-03 03:42:00', 1),
(6046, 57, 33, '2025-12-03 04:12:00', '2025-12-03 05:54:00', 1),
(6047, 57, 33, '2025-12-03 06:24:00', '2025-12-03 08:06:00', 1),
(6048, 57, 33, '2025-12-03 08:36:00', '2025-12-03 10:18:00', 1),
(6049, 57, 33, '2025-12-03 10:48:00', '2025-12-03 12:30:00', 1),
(6050, 57, 33, '2025-12-03 13:00:00', '2025-12-03 14:42:00', 1),
(6051, 57, 33, '2025-12-04 02:00:00', '2025-12-04 03:42:00', 1),
(6052, 57, 33, '2025-12-04 04:12:00', '2025-12-04 05:54:00', 1),
(6053, 57, 33, '2025-12-04 06:24:00', '2025-12-04 08:06:00', 1),
(6054, 57, 33, '2025-12-04 08:36:00', '2025-12-04 10:18:00', 1),
(6055, 57, 33, '2025-12-04 10:48:00', '2025-12-04 12:30:00', 1),
(6056, 57, 33, '2025-12-04 13:00:00', '2025-12-04 14:42:00', 1),
(6057, 57, 33, '2025-12-05 02:00:00', '2025-12-05 03:42:00', 1),
(6058, 57, 33, '2025-12-05 04:12:00', '2025-12-05 05:54:00', 1),
(6059, 57, 33, '2025-12-05 06:24:00', '2025-12-05 08:06:00', 1),
(6060, 57, 33, '2025-12-05 08:36:00', '2025-12-05 10:18:00', 1),
(6061, 57, 33, '2025-12-05 10:48:00', '2025-12-05 12:30:00', 1),
(6062, 57, 33, '2025-12-05 13:00:00', '2025-12-05 14:42:00', 1),
(6063, 57, 33, '2025-12-08 02:00:00', '2025-12-08 03:42:00', 1),
(6064, 57, 33, '2025-12-08 04:12:00', '2025-12-08 05:54:00', 1),
(6065, 57, 33, '2025-12-08 06:24:00', '2025-12-08 08:06:00', 1),
(6066, 57, 33, '2025-12-08 08:36:00', '2025-12-08 10:18:00', 1),
(6067, 57, 33, '2025-12-08 10:48:00', '2025-12-08 12:30:00', 1),
(6068, 57, 33, '2025-12-08 13:00:00', '2025-12-08 14:42:00', 1),
(6069, 57, 33, '2025-12-09 02:00:00', '2025-12-09 03:42:00', 1),
(6070, 57, 33, '2025-12-09 04:12:00', '2025-12-09 05:54:00', 1),
(6071, 57, 33, '2025-12-09 06:24:00', '2025-12-09 08:06:00', 1),
(6072, 57, 33, '2025-12-09 08:36:00', '2025-12-09 10:18:00', 1),
(6073, 57, 33, '2025-12-09 10:48:00', '2025-12-09 12:30:00', 1),
(6074, 57, 33, '2025-12-09 13:00:00', '2025-12-09 14:42:00', 1),
(6075, 57, 33, '2025-12-10 02:00:00', '2025-12-10 03:42:00', 1),
(6076, 57, 33, '2025-12-10 04:12:00', '2025-12-10 05:54:00', 1),
(6077, 57, 33, '2025-12-10 06:24:00', '2025-12-10 08:06:00', 1),
(6078, 57, 33, '2025-12-10 08:36:00', '2025-12-10 10:18:00', 1),
(6079, 57, 33, '2025-12-10 10:48:00', '2025-12-10 12:30:00', 1),
(6080, 57, 33, '2025-12-10 13:00:00', '2025-12-10 14:42:00', 1);

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `suat_chieu_ghe`
--

CREATE TABLE `suat_chieu_ghe` (
  `id` bigint UNSIGNED NOT NULL,
  `id_suat_chieu` bigint UNSIGNED NOT NULL,
  `id_ghe` bigint UNSIGNED NOT NULL,
  `status` enum('available','holding','booked','blocked') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'available',
  `hold_expires_at` datetime DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Đang đổ dữ liệu cho bảng `suat_chieu_ghe`
--

INSERT INTO `suat_chieu_ghe` (`id`, `id_suat_chieu`, `id_ghe`, `status`, `hold_expires_at`, `created_at`, `updated_at`) VALUES
(1, 6021, 4098, 'booked', NULL, '2025-11-28 19:26:58', '2025-11-28 19:27:00'),
(2, 6021, 4097, 'booked', NULL, '2025-11-28 19:26:58', '2025-11-28 19:27:00'),
(3, 6012, 3686, 'available', NULL, '2025-11-28 20:25:18', '2025-11-28 20:50:29'),
(4, 6012, 3655, 'available', NULL, '2025-11-28 20:25:27', '2025-11-28 20:31:14'),
(5, 6012, 3654, 'available', NULL, '2025-11-28 20:25:31', '2025-11-28 20:31:14'),
(6, 6012, 3587, 'booked', NULL, '2025-11-28 20:25:37', '2025-11-28 20:25:42'),
(7, 6012, 3588, 'booked', NULL, '2025-11-28 20:29:10', '2025-11-28 20:29:12'),
(8, 6012, 3688, 'available', NULL, '2025-11-28 20:31:16', '2025-11-28 20:38:01'),
(9, 6012, 3687, 'available', NULL, '2025-11-28 20:32:10', '2025-11-28 20:38:01'),
(10, 6012, 3589, 'available', NULL, '2025-11-28 20:38:02', '2025-11-28 20:44:28'),
(11, 6012, 3590, 'booked', NULL, '2025-11-28 20:42:25', '2025-11-28 20:42:32'),
(12, 6012, 3591, 'booked', NULL, '2025-11-28 20:42:26', '2025-11-28 20:42:32'),
(13, 6012, 3592, 'booked', NULL, '2025-11-28 20:42:30', '2025-11-28 20:42:32'),
(14, 6012, 3619, 'available', NULL, '2025-11-28 20:44:30', '2025-11-28 20:50:29'),
(15, 6012, 3620, 'available', NULL, '2025-11-28 20:44:30', '2025-11-28 20:50:29'),
(16, 6012, 3681, 'available', NULL, '2025-11-28 20:45:24', '2025-11-28 20:50:29'),
(17, 6012, 3682, 'available', NULL, '2025-11-28 20:45:24', '2025-11-28 20:50:29'),
(18, 6012, 3684, 'available', NULL, '2025-11-28 20:45:26', '2025-11-28 20:50:29'),
(19, 6012, 3683, 'available', NULL, '2025-11-28 20:45:26', '2025-11-28 20:50:29'),
(20, 6012, 3685, 'available', NULL, '2025-11-28 20:45:27', '2025-11-28 20:50:29'),
(21, 6012, 3661, 'available', NULL, '2025-11-28 20:45:42', '2025-11-28 21:15:11'),
(22, 6012, 3662, 'available', NULL, '2025-11-28 20:45:42', '2025-11-28 21:15:11'),
(23, 6012, 3664, 'available', NULL, '2025-11-28 20:49:02', '2025-11-28 21:15:11'),
(24, 6012, 3663, 'available', NULL, '2025-11-28 20:49:02', '2025-11-28 21:15:11'),
(25, 6012, 3665, 'available', NULL, '2025-11-28 20:49:03', '2025-11-28 21:15:11'),
(26, 6012, 3666, 'available', NULL, '2025-11-28 20:49:03', '2025-11-28 21:15:11'),
(27, 6012, 3668, 'holding', '2025-12-01 17:00:49', '2025-11-28 20:49:08', '2025-12-01 09:55:49'),
(28, 6012, 3667, 'holding', '2025-12-01 17:00:49', '2025-11-28 20:49:08', '2025-12-01 09:55:49'),
(29, 6012, 3670, 'booked', NULL, '2025-11-28 20:49:17', '2025-12-01 09:55:56'),
(30, 6012, 3669, 'booked', NULL, '2025-11-28 20:49:17', '2025-12-01 09:55:56'),
(31, 6014, 4128, 'available', NULL, '2025-11-28 21:03:30', '2025-11-28 21:19:13'),
(32, 6014, 4127, 'available', NULL, '2025-11-28 21:03:30', '2025-11-28 21:19:13'),
(33, 6037, 4132, 'booked', NULL, '2025-11-28 21:19:17', '2025-11-28 21:19:19'),
(34, 6037, 4131, 'booked', NULL, '2025-11-28 21:19:17', '2025-11-28 21:19:19'),
(35, 6037, 4133, 'booked', NULL, '2025-11-28 21:19:18', '2025-11-28 21:19:19'),
(36, 6037, 4134, 'booked', NULL, '2025-11-28 21:19:18', '2025-11-28 21:19:19'),
(37, 6012, 3652, 'booked', NULL, '2025-12-01 09:55:48', '2025-12-01 09:55:56'),
(38, 6012, 3653, 'booked', NULL, '2025-12-01 09:55:49', '2025-12-01 09:55:56');

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `tam_giu_ghe`
--

CREATE TABLE `tam_giu_ghe` (
  `id` bigint UNSIGNED NOT NULL,
  `id_ghe` bigint UNSIGNED NOT NULL,
  `id_suat_chieu` bigint UNSIGNED NOT NULL,
  `id_nguoi_dung` bigint UNSIGNED DEFAULT NULL,
  `session_id` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `gia_giu` decimal(10,2) NOT NULL DEFAULT '0.00',
  `thoi_gian_giu` timestamp NOT NULL,
  `thoi_gian_het_han` timestamp NOT NULL,
  `trang_thai` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'dang_giu',
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `thanh_toan`
--

CREATE TABLE `thanh_toan` (
  `id` int NOT NULL,
  `id_dat_ve` int DEFAULT NULL,
  `phuong_thuc` varchar(50) DEFAULT NULL,
  `so_tien` decimal(10,2) DEFAULT NULL,
  `ma_giao_dich` varchar(100) DEFAULT NULL,
  `trang_thai` tinyint(1) DEFAULT NULL,
  `thoi_gian` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Đang đổ dữ liệu cho bảng `thanh_toan`
--

INSERT INTO `thanh_toan` (`id`, `id_dat_ve`, `phuong_thuc`, `so_tien`, `ma_giao_dich`, `trang_thai`, `thoi_gian`) VALUES
(11, 245, 'VNPAY', 499000.00, NULL, 1, '2025-11-29 02:12:03'),
(12, 248, 'VNPAY', 339000.00, NULL, 0, '2025-11-29 01:38:06'),
(13, 254, 'VNPAY', 499000.00, NULL, 0, '2025-11-29 01:38:40'),
(14, 261, 'VNPAY', 499000.00, NULL, 0, '2025-11-29 01:39:24'),
(15, 264, 'VNPAY', 320000.00, NULL, 1, '2025-11-29 02:11:51'),
(16, 268, 'VNPAY', 499000.00, NULL, 1, '2025-11-29 02:11:39'),
(17, 274, 'VNPAY', 579000.00, NULL, 1, '2025-11-29 02:02:05'),
(18, 276, 'VNPAY', 200000.00, NULL, 1, '2025-11-29 02:27:07'),
(19, 281, 'VNPAY', 80000.00, NULL, 0, '2025-11-29 03:25:42'),
(20, 283, 'VNPAY', 80000.00, NULL, 0, '2025-11-29 03:29:12'),
(21, 290, 'VNPAY', 240000.00, NULL, 0, '2025-11-29 03:42:32'),
(22, 307, 'VNPAY', 320000.00, '15309629', 1, '2025-11-29 04:20:29'),
(23, 313, 'VNPAY', 400000.00, NULL, 0, '2025-12-01 16:55:56'),
(24, 314, 'VNPAY', 200000.00, NULL, 1, '2025-12-02 02:27:57'),
(25, 315, 'VNPAY', 199000.00, NULL, 1, '2025-12-02 14:02:27'),
(26, 316, 'VNPAY', 200000.00, NULL, 0, '2025-12-02 14:12:07'),
(27, 317, 'VNPAY', 160000.00, NULL, 0, '2025-12-02 14:39:27'),
(28, 318, 'VNPAY', 139000.00, NULL, 0, '2025-12-02 14:39:56'),
(29, 319, 'VNPAY', 160000.00, NULL, 0, '2025-12-02 14:40:00'),
(30, 320, 'VNPAY', 160000.00, NULL, 1, '2025-12-02 14:51:07');

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `tier`
--

CREATE TABLE `tier` (
  `id` bigint UNSIGNED NOT NULL,
  `ten_hang` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Tên hạng: Bronze, Silver, Gold, Platinum',
  `mo_ta` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci COMMENT 'Mô tả chi tiết hạng',
  `uu_dai` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci COMMENT 'Các ưu đãi của hạng',
  `diem_toi_thieu` int NOT NULL DEFAULT '0' COMMENT 'Điểm tối thiểu để đạt hạng',
  `diem_toi_da` int DEFAULT NULL COMMENT 'Điểm tối đa của hạng (NULL = không giới hạn)',
  `giam_gia_ve` decimal(5,2) NOT NULL DEFAULT '0.00' COMMENT '% giảm giá vé phim',
  `giam_gia_combo` decimal(5,2) NOT NULL DEFAULT '0.00' COMMENT '% giảm giá combo',
  `ty_le_tich_diem` decimal(5,2) NOT NULL DEFAULT '1.00' COMMENT 'Tỷ lệ tích điểm (1.0 = 100%)',
  `so_thu_tu` int NOT NULL DEFAULT '0' COMMENT 'Thứ tự hiển thị',
  `mau_sac` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Mã màu đại diện (#hex)',
  `icon` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Icon/hình ảnh đại diện',
  `trang_thai` tinyint NOT NULL DEFAULT '1' COMMENT '1: Hoạt động, 0: Không hoạt động',
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Đang đổ dữ liệu cho bảng `tier`
--

INSERT INTO `tier` (`id`, `ten_hang`, `mo_ta`, `uu_dai`, `diem_toi_thieu`, `diem_toi_da`, `giam_gia_ve`, `giam_gia_combo`, `ty_le_tich_diem`, `so_thu_tu`, `mau_sac`, `icon`, `trang_thai`, `created_at`, `updated_at`) VALUES
(1, 'Đồng', 'Hạng thành viên cơ bản dành cho người mới', 'Tích điểm khi mua vé và combo', 0, 999, 0.00, 0.00, 1.00, 1, '#CD7F32', 'bronze-medal.png', 1, NULL, NULL),
(2, 'Bạc', 'Hạng thành viên bạc với nhiều ưu đãi hơn', 'Giảm 5% vé và combo, tích điểm nhanh hơn 20%', 1000, 4999, 5.00, 5.00, 1.20, 2, '#C0C0C0', 'silver-medal.png', 1, NULL, NULL),
(3, 'Vàng', 'Hạng thành viên vàng với quyền lợi cao cấp', 'Giảm 10% vé và combo, tích điểm x1.5, ưu tiên đặt vé, nâng cấp ghế VIP', 5000, 9999, 10.00, 10.00, 1.50, 3, '#FFD700', 'gold-medal.png', 1, NULL, NULL),
(4, 'Bạch Kim', 'Hạng thành viên cao nhất với đặc quyền VIP', 'Giảm 15% vé và combo, tích điểm x2, ưu tiên tối đa, VIP lounge, hỗ trợ 24/7', 10000, NULL, 15.00, 15.00, 2.00, 4, '#E5E4E2', 'platinum-medal.png', 1, NULL, NULL);

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `tin_tuc`
--

CREATE TABLE `tin_tuc` (
  `id` bigint UNSIGNED NOT NULL,
  `tieu_de` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `slug` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `tom_tat` text COLLATE utf8mb4_unicode_ci,
  `noi_dung` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `hinh_anh` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `tac_gia` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `the_loai` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `luot_xem` int NOT NULL DEFAULT '0',
  `noi_bat` tinyint(1) NOT NULL DEFAULT '0',
  `trang_thai` tinyint(1) NOT NULL DEFAULT '1',
  `ngay_dang` timestamp NULL DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  `deleted_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `users`
--

CREATE TABLE `users` (
  `id` bigint UNSIGNED NOT NULL,
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `email` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `email_verified_at` timestamp NULL DEFAULT NULL,
  `password` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `remember_token` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Đang đổ dữ liệu cho bảng `users`
--

INSERT INTO `users` (`id`, `name`, `email`, `email_verified_at`, `password`, `remember_token`, `created_at`, `updated_at`) VALUES
(1, 'Test User', 'test@example.com', '2025-10-29 16:16:29', '$2y$12$FyMUonucDkHe7n8hux8Y8.H2u.tE56s.uF2jnbaaMUvI2sfizAAnS', '5YfU1IyaZi', '2025-10-29 16:16:29', '2025-10-29 16:16:29');

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `vai_tro`
--

CREATE TABLE `vai_tro` (
  `id` int NOT NULL,
  `ten` varchar(100) NOT NULL,
  `mo_ta` text
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Đang đổ dữ liệu cho bảng `vai_tro`
--

INSERT INTO `vai_tro` (`id`, `ten`, `mo_ta`) VALUES
(1, 'admin', 'Quản trị'),
(2, 'staff', 'Nhân viên'),
(3, 'user', 'Người dùng'),
(4, 'Customer', 'Khách hàng');

--
-- Chỉ mục cho các bảng đã đổ
--

--
-- Chỉ mục cho bảng `bookings`
--
ALTER TABLE `bookings`
  ADD PRIMARY KEY (`id`),
  ADD KEY `bookings_user_id_foreign` (`user_id`),
  ADD KEY `bookings_show_id_status_index` (`show_id`,`status`);

--
-- Chỉ mục cho bảng `booking_combos`
--
ALTER TABLE `booking_combos`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `booking_combos_booking_id_combo_id_unique` (`booking_id`,`combo_id`),
  ADD KEY `booking_combos_combo_id_foreign` (`combo_id`);

--
-- Chỉ mục cho bảng `booking_seats`
--
ALTER TABLE `booking_seats`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `booking_seats_booking_id_seat_id_unique` (`booking_id`,`seat_id`),
  ADD KEY `booking_seats_seat_id_foreign` (`seat_id`);

--
-- Chỉ mục cho bảng `cache`
--
ALTER TABLE `cache`
  ADD PRIMARY KEY (`key`);

--
-- Chỉ mục cho bảng `cache_locks`
--
ALTER TABLE `cache_locks`
  ADD PRIMARY KEY (`key`);

--
-- Chỉ mục cho bảng `chi_tiet_combo_mon`
--
ALTER TABLE `chi_tiet_combo_mon`
  ADD PRIMARY KEY (`id`),
  ADD KEY `chi_tiet_combo_mon_ibfk_1` (`id_combo`),
  ADD KEY `chi_tiet_combo_mon_ibfk_2` (`id_mon_an`);

--
-- Chỉ mục cho bảng `chi_tiet_dat_ve`
--
ALTER TABLE `chi_tiet_dat_ve`
  ADD PRIMARY KEY (`id`),
  ADD KEY `id_dat_ve` (`id_dat_ve`),
  ADD KEY `id_ghe` (`id_ghe`);

--
-- Chỉ mục cho bảng `chi_tiet_dat_ve_combo`
--
ALTER TABLE `chi_tiet_dat_ve_combo`
  ADD PRIMARY KEY (`id`),
  ADD KEY `id_dat_ve` (`id_dat_ve`),
  ADD KEY `id_combo` (`id_combo`);

--
-- Chỉ mục cho bảng `combo`
--
ALTER TABLE `combo`
  ADD PRIMARY KEY (`id`),
  ADD KEY `combo_ibfk_created_by` (`created_by`),
  ADD KEY `combo_ibfk_updated_by` (`updated_by`);

--
-- Chỉ mục cho bảng `combos`
--
ALTER TABLE `combos`
  ADD PRIMARY KEY (`id`);

--
-- Chỉ mục cho bảng `dat_ve`
--
ALTER TABLE `dat_ve`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `dat_ve_ticket_code_unique` (`ticket_code`),
  ADD KEY `id_nguoi_dung` (`id_nguoi_dung`),
  ADD KEY `id_suat_chieu` (`id_suat_chieu`),
  ADD KEY `id_khuyen_mai` (`id_khuyen_mai`);

--
-- Chỉ mục cho bảng `diem_thanh_vien`
--
ALTER TABLE `diem_thanh_vien`
  ADD PRIMARY KEY (`id`),
  ADD KEY `id_nguoi_dung` (`id_nguoi_dung`);

--
-- Chỉ mục cho bảng `failed_jobs`
--
ALTER TABLE `failed_jobs`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `failed_jobs_uuid_unique` (`uuid`);

--
-- Chỉ mục cho bảng `ghe`
--
ALTER TABLE `ghe`
  ADD PRIMARY KEY (`id`),
  ADD KEY `id_phong` (`id_phong`),
  ADD KEY `id_loai` (`id_loai`);

--
-- Chỉ mục cho bảng `hang_thanh_vien`
--
ALTER TABLE `hang_thanh_vien`
  ADD PRIMARY KEY (`id`),
  ADD KEY `id_nguoi_dung` (`id_nguoi_dung`),
  ADD KEY `hang_thanh_vien_id_tier_foreign` (`id_tier`);

--
-- Chỉ mục cho bảng `jobs`
--
ALTER TABLE `jobs`
  ADD PRIMARY KEY (`id`),
  ADD KEY `jobs_queue_index` (`queue`);

--
-- Chỉ mục cho bảng `job_batches`
--
ALTER TABLE `job_batches`
  ADD PRIMARY KEY (`id`);

--
-- Chỉ mục cho bảng `khuyen_mai`
--
ALTER TABLE `khuyen_mai`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `ma_km` (`ma_km`);

--
-- Chỉ mục cho bảng `lich_su_diem`
--
ALTER TABLE `lich_su_diem`
  ADD PRIMARY KEY (`id`),
  ADD KEY `id_nguoi_dung` (`id_nguoi_dung`);

--
-- Chỉ mục cho bảng `loai_ghe`
--
ALTER TABLE `loai_ghe`
  ADD PRIMARY KEY (`id`);

--
-- Chỉ mục cho bảng `migrations`
--
ALTER TABLE `migrations`
  ADD PRIMARY KEY (`id`);

--
-- Chỉ mục cho bảng `mon_an`
--
ALTER TABLE `mon_an`
  ADD PRIMARY KEY (`id`);

--
-- Chỉ mục cho bảng `movies`
--
ALTER TABLE `movies`
  ADD PRIMARY KEY (`id`);

--
-- Chỉ mục cho bảng `nguoi_dung`
--
ALTER TABLE `nguoi_dung`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `email` (`email`),
  ADD KEY `id_vai_tro` (`id_vai_tro`);

--
-- Chỉ mục cho bảng `password_reset_tokens`
--
ALTER TABLE `password_reset_tokens`
  ADD PRIMARY KEY (`email`);

--
-- Chỉ mục cho bảng `payments`
--
ALTER TABLE `payments`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `payments_transaction_id_unique` (`transaction_id`),
  ADD KEY `payments_booking_id_status_index` (`booking_id`,`status`),
  ADD KEY `payments_transaction_id_index` (`transaction_id`);

--
-- Chỉ mục cho bảng `phim`
--
ALTER TABLE `phim`
  ADD PRIMARY KEY (`id`),
  ADD KEY `id_phong` (`id_phong`);

--
-- Chỉ mục cho bảng `phong_chieu`
--
ALTER TABLE `phong_chieu`
  ADD PRIMARY KEY (`id`);

--
-- Chỉ mục cho bảng `rooms`
--
ALTER TABLE `rooms`
  ADD PRIMARY KEY (`id`);

--
-- Chỉ mục cho bảng `seats`
--
ALTER TABLE `seats`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `seats_room_id_row_number_unique` (`room_id`,`row`,`number`);

--
-- Chỉ mục cho bảng `seat_locks`
--
ALTER TABLE `seat_locks`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `seat_locks_show_id_seat_id_unique` (`show_id`,`seat_id`),
  ADD KEY `seat_locks_seat_id_foreign` (`seat_id`),
  ADD KEY `seat_locks_booking_id_foreign` (`booking_id`);

--
-- Chỉ mục cho bảng `sessions`
--
ALTER TABLE `sessions`
  ADD PRIMARY KEY (`id`),
  ADD KEY `sessions_user_id_index` (`user_id`),
  ADD KEY `sessions_last_activity_index` (`last_activity`);

--
-- Chỉ mục cho bảng `shows`
--
ALTER TABLE `shows`
  ADD PRIMARY KEY (`id`),
  ADD KEY `shows_movie_id_foreign` (`movie_id`),
  ADD KEY `shows_room_id_start_at_index` (`room_id`,`start_at`);

--
-- Chỉ mục cho bảng `suat_chieu`
--
ALTER TABLE `suat_chieu`
  ADD PRIMARY KEY (`id`),
  ADD KEY `id_phim` (`id_phim`),
  ADD KEY `id_phong` (`id_phong`);

--
-- Chỉ mục cho bảng `suat_chieu_ghe`
--
ALTER TABLE `suat_chieu_ghe`
  ADD PRIMARY KEY (`id`);

--
-- Chỉ mục cho bảng `tam_giu_ghe`
--
ALTER TABLE `tam_giu_ghe`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `unique_ghe_suat_chieu` (`id_ghe`,`id_suat_chieu`),
  ADD KEY `tam_giu_ghe_id_ghe_id_suat_chieu_index` (`id_ghe`,`id_suat_chieu`),
  ADD KEY `tam_giu_ghe_session_id_index` (`session_id`),
  ADD KEY `tam_giu_ghe_thoi_gian_het_han_index` (`thoi_gian_het_han`);

--
-- Chỉ mục cho bảng `thanh_toan`
--
ALTER TABLE `thanh_toan`
  ADD PRIMARY KEY (`id`),
  ADD KEY `id_dat_ve` (`id_dat_ve`);

--
-- Chỉ mục cho bảng `tier`
--
ALTER TABLE `tier`
  ADD PRIMARY KEY (`id`),
  ADD KEY `tier_so_thu_tu_index` (`so_thu_tu`);

--
-- Chỉ mục cho bảng `tin_tuc`
--
ALTER TABLE `tin_tuc`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `tin_tuc_slug_unique` (`slug`),
  ADD KEY `tin_tuc_slug_index` (`slug`),
  ADD KEY `tin_tuc_trang_thai_index` (`trang_thai`),
  ADD KEY `tin_tuc_noi_bat_index` (`noi_bat`);

--
-- Chỉ mục cho bảng `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `users_email_unique` (`email`);

--
-- Chỉ mục cho bảng `vai_tro`
--
ALTER TABLE `vai_tro`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT cho các bảng đã đổ
--

--
-- AUTO_INCREMENT cho bảng `bookings`
--
ALTER TABLE `bookings`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT cho bảng `booking_combos`
--
ALTER TABLE `booking_combos`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT cho bảng `booking_seats`
--
ALTER TABLE `booking_seats`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT cho bảng `chi_tiet_combo_mon`
--
ALTER TABLE `chi_tiet_combo_mon`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT cho bảng `chi_tiet_dat_ve`
--
ALTER TABLE `chi_tiet_dat_ve`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=120;

--
-- AUTO_INCREMENT cho bảng `chi_tiet_dat_ve_combo`
--
ALTER TABLE `chi_tiet_dat_ve_combo`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- AUTO_INCREMENT cho bảng `combo`
--
ALTER TABLE `combo`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT cho bảng `combos`
--
ALTER TABLE `combos`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT cho bảng `dat_ve`
--
ALTER TABLE `dat_ve`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=321;

--
-- AUTO_INCREMENT cho bảng `diem_thanh_vien`
--
ALTER TABLE `diem_thanh_vien`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;

--
-- AUTO_INCREMENT cho bảng `failed_jobs`
--
ALTER TABLE `failed_jobs`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT cho bảng `ghe`
--
ALTER TABLE `ghe`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4877;

--
-- AUTO_INCREMENT cho bảng `hang_thanh_vien`
--
ALTER TABLE `hang_thanh_vien`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT cho bảng `jobs`
--
ALTER TABLE `jobs`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT cho bảng `khuyen_mai`
--
ALTER TABLE `khuyen_mai`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT cho bảng `lich_su_diem`
--
ALTER TABLE `lich_su_diem`
  MODIFY `id` int NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT cho bảng `loai_ghe`
--
ALTER TABLE `loai_ghe`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=13;

--
-- AUTO_INCREMENT cho bảng `migrations`
--
ALTER TABLE `migrations`
  MODIFY `id` int UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=38;

--
-- AUTO_INCREMENT cho bảng `mon_an`
--
ALTER TABLE `mon_an`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT cho bảng `movies`
--
ALTER TABLE `movies`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT cho bảng `nguoi_dung`
--
ALTER TABLE `nguoi_dung`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=27;

--
-- AUTO_INCREMENT cho bảng `payments`
--
ALTER TABLE `payments`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT cho bảng `phim`
--
ALTER TABLE `phim`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=80;

--
-- AUTO_INCREMENT cho bảng `phong_chieu`
--
ALTER TABLE `phong_chieu`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=35;

--
-- AUTO_INCREMENT cho bảng `rooms`
--
ALTER TABLE `rooms`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT cho bảng `seats`
--
ALTER TABLE `seats`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT cho bảng `seat_locks`
--
ALTER TABLE `seat_locks`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT cho bảng `shows`
--
ALTER TABLE `shows`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT cho bảng `suat_chieu`
--
ALTER TABLE `suat_chieu`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=6081;

--
-- AUTO_INCREMENT cho bảng `suat_chieu_ghe`
--
ALTER TABLE `suat_chieu_ghe`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=39;

--
-- AUTO_INCREMENT cho bảng `tam_giu_ghe`
--
ALTER TABLE `tam_giu_ghe`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT cho bảng `thanh_toan`
--
ALTER TABLE `thanh_toan`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=31;

--
-- AUTO_INCREMENT cho bảng `tier`
--
ALTER TABLE `tier`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;

--
-- AUTO_INCREMENT cho bảng `tin_tuc`
--
ALTER TABLE `tin_tuc`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT cho bảng `users`
--
ALTER TABLE `users`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT cho bảng `vai_tro`
--
ALTER TABLE `vai_tro`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;

--
-- Các ràng buộc cho các bảng đã đổ
--

--
-- Các ràng buộc cho bảng `bookings`
--
ALTER TABLE `bookings`
  ADD CONSTRAINT `bookings_show_id_foreign` FOREIGN KEY (`show_id`) REFERENCES `shows` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `bookings_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE SET NULL;

--
-- Các ràng buộc cho bảng `booking_combos`
--
ALTER TABLE `booking_combos`
  ADD CONSTRAINT `booking_combos_booking_id_foreign` FOREIGN KEY (`booking_id`) REFERENCES `bookings` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `booking_combos_combo_id_foreign` FOREIGN KEY (`combo_id`) REFERENCES `combos` (`id`) ON DELETE CASCADE;

--
-- Các ràng buộc cho bảng `booking_seats`
--
ALTER TABLE `booking_seats`
  ADD CONSTRAINT `booking_seats_booking_id_foreign` FOREIGN KEY (`booking_id`) REFERENCES `bookings` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `booking_seats_seat_id_foreign` FOREIGN KEY (`seat_id`) REFERENCES `seats` (`id`) ON DELETE CASCADE;

--
-- Các ràng buộc cho bảng `chi_tiet_combo_mon`
--
ALTER TABLE `chi_tiet_combo_mon`
  ADD CONSTRAINT `chi_tiet_combo_mon_ibfk_1` FOREIGN KEY (`id_combo`) REFERENCES `combo` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `chi_tiet_combo_mon_ibfk_2` FOREIGN KEY (`id_mon_an`) REFERENCES `mon_an` (`id`) ON DELETE CASCADE;

--
-- Các ràng buộc cho bảng `chi_tiet_dat_ve`
--
ALTER TABLE `chi_tiet_dat_ve`
  ADD CONSTRAINT `chi_tiet_dat_ve_ibfk_1` FOREIGN KEY (`id_dat_ve`) REFERENCES `dat_ve` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `chi_tiet_dat_ve_ibfk_2` FOREIGN KEY (`id_ghe`) REFERENCES `ghe` (`id`) ON DELETE CASCADE;

--
-- Các ràng buộc cho bảng `chi_tiet_dat_ve_combo`
--
ALTER TABLE `chi_tiet_dat_ve_combo`
  ADD CONSTRAINT `chi_tiet_dat_ve_combo_ibfk_1` FOREIGN KEY (`id_dat_ve`) REFERENCES `dat_ve` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `chi_tiet_dat_ve_combo_ibfk_2` FOREIGN KEY (`id_combo`) REFERENCES `combo` (`id`) ON DELETE CASCADE;

--
-- Các ràng buộc cho bảng `combo`
--
ALTER TABLE `combo`
  ADD CONSTRAINT `combo_ibfk_created_by` FOREIGN KEY (`created_by`) REFERENCES `nguoi_dung` (`id`) ON DELETE SET NULL,
  ADD CONSTRAINT `combo_ibfk_updated_by` FOREIGN KEY (`updated_by`) REFERENCES `nguoi_dung` (`id`) ON DELETE SET NULL;

--
-- Các ràng buộc cho bảng `dat_ve`
--
ALTER TABLE `dat_ve`
  ADD CONSTRAINT `dat_ve_ibfk_1` FOREIGN KEY (`id_nguoi_dung`) REFERENCES `nguoi_dung` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `dat_ve_ibfk_2` FOREIGN KEY (`id_suat_chieu`) REFERENCES `suat_chieu` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `dat_ve_ibfk_3` FOREIGN KEY (`id_khuyen_mai`) REFERENCES `khuyen_mai` (`id`) ON DELETE SET NULL;

--
-- Các ràng buộc cho bảng `diem_thanh_vien`
--
ALTER TABLE `diem_thanh_vien`
  ADD CONSTRAINT `diem_thanh_vien_ibfk_1` FOREIGN KEY (`id_nguoi_dung`) REFERENCES `nguoi_dung` (`id`) ON DELETE CASCADE;

--
-- Các ràng buộc cho bảng `ghe`
--
ALTER TABLE `ghe`
  ADD CONSTRAINT `ghe_ibfk_1` FOREIGN KEY (`id_phong`) REFERENCES `phong_chieu` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `ghe_ibfk_2` FOREIGN KEY (`id_loai`) REFERENCES `loai_ghe` (`id`) ON DELETE SET NULL;

--
-- Các ràng buộc cho bảng `hang_thanh_vien`
--
ALTER TABLE `hang_thanh_vien`
  ADD CONSTRAINT `hang_thanh_vien_ibfk_1` FOREIGN KEY (`id_nguoi_dung`) REFERENCES `nguoi_dung` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `hang_thanh_vien_id_tier_foreign` FOREIGN KEY (`id_tier`) REFERENCES `tier` (`id`) ON DELETE SET NULL;

--
-- Các ràng buộc cho bảng `lich_su_diem`
--
ALTER TABLE `lich_su_diem`
  ADD CONSTRAINT `lich_su_diem_ibfk_1` FOREIGN KEY (`id_nguoi_dung`) REFERENCES `nguoi_dung` (`id`) ON DELETE CASCADE;

--
-- Các ràng buộc cho bảng `nguoi_dung`
--
ALTER TABLE `nguoi_dung`
  ADD CONSTRAINT `nguoi_dung_ibfk_1` FOREIGN KEY (`id_vai_tro`) REFERENCES `vai_tro` (`id`) ON DELETE SET NULL;

--
-- Các ràng buộc cho bảng `payments`
--
ALTER TABLE `payments`
  ADD CONSTRAINT `payments_booking_id_foreign` FOREIGN KEY (`booking_id`) REFERENCES `bookings` (`id`) ON DELETE CASCADE;

--
-- Các ràng buộc cho bảng `phim`
--
ALTER TABLE `phim`
  ADD CONSTRAINT `phim_ibfk_phong` FOREIGN KEY (`id_phong`) REFERENCES `phong_chieu` (`id`) ON DELETE SET NULL;

--
-- Các ràng buộc cho bảng `seats`
--
ALTER TABLE `seats`
  ADD CONSTRAINT `seats_room_id_foreign` FOREIGN KEY (`room_id`) REFERENCES `rooms` (`id`) ON DELETE CASCADE;

--
-- Các ràng buộc cho bảng `seat_locks`
--
ALTER TABLE `seat_locks`
  ADD CONSTRAINT `seat_locks_booking_id_foreign` FOREIGN KEY (`booking_id`) REFERENCES `bookings` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `seat_locks_seat_id_foreign` FOREIGN KEY (`seat_id`) REFERENCES `seats` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `seat_locks_show_id_foreign` FOREIGN KEY (`show_id`) REFERENCES `shows` (`id`) ON DELETE CASCADE;

--
-- Các ràng buộc cho bảng `shows`
--
ALTER TABLE `shows`
  ADD CONSTRAINT `shows_movie_id_foreign` FOREIGN KEY (`movie_id`) REFERENCES `movies` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `shows_room_id_foreign` FOREIGN KEY (`room_id`) REFERENCES `rooms` (`id`) ON DELETE CASCADE;

--
-- Các ràng buộc cho bảng `suat_chieu`
--
ALTER TABLE `suat_chieu`
  ADD CONSTRAINT `suat_chieu_ibfk_1` FOREIGN KEY (`id_phim`) REFERENCES `phim` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `suat_chieu_ibfk_2` FOREIGN KEY (`id_phong`) REFERENCES `phong_chieu` (`id`) ON DELETE CASCADE;

--
-- Các ràng buộc cho bảng `thanh_toan`
--
ALTER TABLE `thanh_toan`
  ADD CONSTRAINT `thanh_toan_ibfk_1` FOREIGN KEY (`id_dat_ve`) REFERENCES `dat_ve` (`id`) ON DELETE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
